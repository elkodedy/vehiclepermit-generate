import P from"./divider.esm.a72a9d0b.js";import{a5 as R,V as T,b as c,j as t,e as i,w as a,I as U,o as r,t as d,g as _,k as m,f as h,B as b,a6 as N,a7 as z,a8 as L,s as I}from"./entry.33a98e6d.js";import B from"./inputtext.esm.c1754ed2.js";import j from"./column.esm.01b3d724.js";import E from"./datatable.esm.caf4439a.js";import q from"./textarea.esm.eaf76b3f.js";import{s as F}from"./dropdown.esm.d9282188.js";import{_ as A}from"./client-only.5f019b51.js";import M from"./radiobutton.esm.1cb53ac1.js";import O from"./inputnumber.esm.9dae0ab1.js";import{_ as W}from"./_plugin-vue_export-helper.c27b6911.js";import"./basecomponent.esm.04ea3a73.js";import"./entry.020dcd79.js";import"./paginator.esm.9da4e935.js";import"./index.esm.79741361.js";import"./index.esm.2cd605ec.js";import"./index.esm.7d369c88.js";import"./virtualscroller.esm.a3f829f0.js";import"./index.esm.5f2c88d6.js";import"./index.esm.8ec9b354.js";import"./index.esm.a8d6ecc4.js";import"./index.esm.193858ba.js";import"./index.esm.6f1f13e2.js";import"./index.esm.70717dd2.js";class J{getPermits(){return fetch(R().public.baseUrl+"/data/permits.json").then(s=>s.json()).then(s=>s.data)}}const Y={data(){return{permits:null,permitDialog:!1,deletePermitDialog:!1,deletePermitsDialog:!1,permit:{},selectedPermits:null,filters:{},statuses:[{label:"Approved",value:"approved"},{label:"Pending",value:"pending"},{label:"Rejected",value:"rejected"},{label:"Closed",value:"closed"}],expandedRows:null,showTable:!1,lgDeviceWidth:1024}},permitService:null,created(){this.permitService=new J,this.initFilters()},mounted(){this.permitService.getPermits().then(n=>{this.permits=n}),this.showTable=window.innerWidth>=this.lgDeviceWidth,this.$nextTick(()=>{window.addEventListener("resize",this.onResize)})},beforeDestroy(){window.removeEventListener("resize",this.onResize)},methods:{initFilters(){this.filters={global:{value:null,matchMode:T.CONTAINS}}},onResize(){this.showTable=window.innerWidth>=this.lgDeviceWidth}}};const l=n=>(N("data-v-32cd6d73"),n=n(),z(),n),K={class:"grid mt-2"},Q={class:"col-12"},G={class:"card"},H={class:"card-title"},X=l(()=>t("h5",{class:"mb-3"}," Dokumen Izin Barang Masuk/Keluar ",-1)),Z={class:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},$={class:"flex"},ee={class:"col-5"},te={class:"col-7"},oe={class:"p-input-icon-left py-0"},se=l(()=>t("i",{class:"pi pi-search"},null,-1)),ie=l(()=>t("span",{class:"p-column-title"},"Nomor Dokumen",-1)),le=l(()=>t("br",null,null,-1)),ne=l(()=>t("span",{class:"p-column-title"},"Jenis",-1)),ae=l(()=>t("span",{class:"p-column-title"},"Nama Pemohon",-1)),re=l(()=>t("span",{class:"p-column-title"},"Perusahaan Pemohon",-1)),de=l(()=>t("span",{class:"p-column-title"},"Dibuat Oleh",-1)),me=l(()=>t("span",{class:"p-column-title"},"Status",-1)),pe={class:"pl-5"},ce={style:{width:"100%"}},ue=l(()=>t("th",null,"Jenis",-1)),_e=l(()=>t("th",null,"Pemohon",-1)),he=l(()=>t("th",null,"Perusahaan",-1)),be=l(()=>t("th",null,"Dibuat Oleh",-1)),ye={colspan:"2"},ve=["src","alt"],fe={class:"field"},ge=l(()=>t("label",{for:"name"},"Name",-1)),we={key:0,class:"p-invalid"},ke={class:"field"},Ve=l(()=>t("label",{for:"description"},"Description",-1)),Ce={class:"field"},De=l(()=>t("label",{for:"permitStatus",class:"mb-3"},"Inventory Status",-1)),xe={key:0},Se={key:1},Pe={key:2},Re={class:"field"},Te=l(()=>t("label",{class:"mb-3"},"Category",-1)),Ue={class:"formgrid grid"},Ne={class:"field-radiobutton col-6"},ze=l(()=>t("label",{for:"category1"},"Accessories",-1)),Le={class:"field-radiobutton col-6"},Ie=l(()=>t("label",{for:"category2"},"Clothing",-1)),Be={class:"field-radiobutton col-6"},je=l(()=>t("label",{for:"category3"},"Electronics",-1)),Ee={class:"field-radiobutton col-6"},qe=l(()=>t("label",{for:"category4"},"Fitness",-1)),Fe={class:"formgrid grid"},Ae={class:"field col"},Me=l(()=>t("label",{for:"price"},"Price",-1)),Oe={class:"field col"},We=l(()=>t("label",{for:"quantity"},"Quantity",-1)),Je={class:"flex align-items-center justify-content-center"},Ye=l(()=>t("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1)),Ke={key:0},Qe={class:"flex align-items-center justify-content-center"},Ge=l(()=>t("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1)),He={key:0};function Xe(n,s,Ze,$e,o,et){const w=P,k=L,p=I,f=B,u=j,V=E,C=q,D=F,x=A,y=M,g=O,v=U;return r(),c("div",K,[t("div",Q,[t("div",G,[t("div",H,[X,i(w)]),i(k),i(V,{ref:"dt",selection:o.selectedPermits,"onUpdate:selection":s[4]||(s[4]=e=>o.selectedPermits=e),expandedRows:o.expandedRows,"onUpdate:expandedRows":s[5]||(s[5]=e=>o.expandedRows=e),value:o.permits,"data-key":"id",paginator:!0,rows:10,filters:o.filters,"paginator-template":"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown","rows-per-page-options":[5,10,25],"current-page-report-template":"Showing {first} to {last} of {totalRecords} permits","responsive-layout":"scroll",onRowExpand:n.onRowExpand,onRowCollapse:n.onRowCollapse},{header:a(()=>[t("div",Z,[t("div",$,[t("div",ee,[i(p,{label:"Form Baru",icon:"pi pi-plus",severity:"secondary",outlined:"",size:"small",style:{width:"100%"},onClick:s[0]||(s[0]=e=>n.$router.push("/apps/permit-create"))})]),t("div",te,[t("span",oe,[se,i(f,{modelValue:o.filters.global.value,"onUpdate:modelValue":s[1]||(s[1]=e=>o.filters.global.value=e),placeholder:"Search...",class:"py-1",style:{width:"100%"}},null,8,["modelValue"])])])])])]),expansion:a(e=>[t("div",pe,[t("table",ce,[t("tr",null,[ue,t("td",null,": "+d(e.data.type),1)]),t("tr",null,[_e,t("td",null,": "+d(e.data.name),1)]),t("tr",null,[he,t("td",null,": "+d(e.data.company),1)]),t("tr",null,[be,t("td",null,": "+d(e.data.created_by),1)]),t("tr",null,[t("td",ye,[i(p,{label:"Detail",icon:"pi pi-pencil",class:"py-2 mt-2 w-100 detail-button",size:"small",severity:"secondary",outlined:"",onClick:s[3]||(s[3]=S=>n.$router.push("/apps/permit-details"))})])])])])]),default:a(()=>[o.showTable?m("",!0):(r(),_(u,{key:0,expander:"",class:"px-1",style:{width:"10px"}})),i(u,{field:"document_number",header:"Nomor Dokumen",sortable:!0},{body:a(e=>[ie,h(" "+d(e.data.document_number)+" ",1),le,o.showTable?m("",!0):(r(),c("span",{key:0,class:b(`permit-badge status-${e.data.permitStatus?e.data.permitStatus.toLowerCase():""}`)},d(e.data.permitStatus),3))]),_:1}),o.showTable?(r(),_(u,{key:1,field:"type",header:"Jenis",sortable:!0},{body:a(e=>[ne,h(" "+d(e.data.type),1)]),_:1})):m("",!0),o.showTable?(r(),_(u,{key:2,field:"name",header:"Nama Pemohon",sortable:!0},{body:a(e=>[ae,h(" "+d(e.data.name),1)]),_:1})):m("",!0),o.showTable?(r(),_(u,{key:3,field:"company",header:"Perusahaan Pemohon",sortable:!0},{body:a(e=>[re,h(" "+d(e.data.company),1)]),_:1})):m("",!0),o.showTable?(r(),_(u,{key:4,field:"created_by",header:"Dibuat Oleh",sortable:!0},{body:a(e=>[de,h(" "+d(e.data.created_by),1)]),_:1})):m("",!0),o.showTable?(r(),_(u,{key:5,field:"permitStatus",header:"Status",sortable:!0},{body:a(e=>[me,t("span",{class:b(`permit-badge status-${e.data.permitStatus?e.data.permitStatus.toLowerCase():""}`)},d(e.data.permitStatus),3)]),_:1})):m("",!0),o.showTable?(r(),_(u,{key:6},{body:a(e=>[i(p,{label:"Detail",icon:"pi pi-pencil",class:"mr-2 detail-button",size:"small",severity:"secondary",outlined:"",onClick:s[2]||(s[2]=S=>n.$router.push("/apps/permit-details"))})]),_:1})):m("",!0)]),_:1},8,["selection","expandedRows","value","filters","onRowExpand","onRowCollapse"]),i(v,{visible:o.permitDialog,"onUpdate:visible":s[15]||(s[15]=e=>o.permitDialog=e),style:{width:"450px"},header:"Permit Details",modal:!0,class:"p-fluid"},{footer:a(()=>[i(p,{label:"Cancel",icon:"pi pi-times",class:"p-button-text",onClick:n.hideDialog},null,8,["onClick"]),i(p,{label:"Save",icon:"pi pi-check",class:"p-button-text",onClick:n.savePermit},null,8,["onClick"])]),default:a(()=>[o.permit.image?(r(),c("img",{key:0,src:`/images/permit/${o.permit.image}`,alt:o.permit.image,width:"150",class:"mt-0 mx-auto mb-5 block shadow-2"},null,8,ve)):m("",!0),t("div",fe,[ge,i(f,{id:"name",modelValue:o.permit.name,"onUpdate:modelValue":s[6]||(s[6]=e=>o.permit.name=e),modelModifiers:{trim:!0},required:"true",autofocus:"",class:b({"p-invalid":n.submitted&&!o.permit.name})},null,8,["modelValue","class"]),n.submitted&&!o.permit.name?(r(),c("small",we,"Name is required.")):m("",!0)]),t("div",ke,[Ve,i(C,{id:"description",modelValue:o.permit.description,"onUpdate:modelValue":s[7]||(s[7]=e=>o.permit.description=e),required:"true",rows:"3",cols:"20"},null,8,["modelValue"])]),t("div",Ce,[De,i(x,null,{default:a(()=>[i(D,{id:"permitStatus",modelValue:o.permit.permitStatus,"onUpdate:modelValue":s[8]||(s[8]=e=>o.permit.permitStatus=e),options:o.statuses,"option-label":"label",placeholder:"Select a Status"},{value:a(e=>[e.value&&e.value.value?(r(),c("div",xe,[t("span",{class:b(`permit-badge status-${e.value.value}`)},d(e.value.label),3)])):e.value&&!e.value.value?(r(),c("div",Se,[t("span",{class:b(`permit-badge status-${e.value.toLowerCase()}`)},d(e.value),3)])):(r(),c("span",Pe,d(e.placeholder),1))]),_:1},8,["modelValue","options"])]),_:1})]),t("div",Re,[Te,t("div",Ue,[t("div",Ne,[i(y,{id:"category1",modelValue:o.permit.category,"onUpdate:modelValue":s[9]||(s[9]=e=>o.permit.category=e),name:"category",value:"Accessories"},null,8,["modelValue"]),ze]),t("div",Le,[i(y,{id:"category2",modelValue:o.permit.category,"onUpdate:modelValue":s[10]||(s[10]=e=>o.permit.category=e),name:"category",value:"Clothing"},null,8,["modelValue"]),Ie]),t("div",Be,[i(y,{id:"category3",modelValue:o.permit.category,"onUpdate:modelValue":s[11]||(s[11]=e=>o.permit.category=e),name:"category",value:"Electronics"},null,8,["modelValue"]),je]),t("div",Ee,[i(y,{id:"category4",modelValue:o.permit.category,"onUpdate:modelValue":s[12]||(s[12]=e=>o.permit.category=e),name:"category",value:"Fitness"},null,8,["modelValue"]),qe])])]),t("div",Fe,[t("div",Ae,[Me,i(g,{id:"price",modelValue:o.permit.price,"onUpdate:modelValue":s[13]||(s[13]=e=>o.permit.price=e),mode:"currency",currency:"USD",locale:"en-US"},null,8,["modelValue"])]),t("div",Oe,[We,i(g,{id:"quantity",modelValue:o.permit.quantity,"onUpdate:modelValue":s[14]||(s[14]=e=>o.permit.quantity=e),integeronly:""},null,8,["modelValue"])])])]),_:1},8,["visible"]),i(v,{visible:o.deletePermitDialog,"onUpdate:visible":s[17]||(s[17]=e=>o.deletePermitDialog=e),style:{width:"450px"},header:"Confirm",modal:!0},{footer:a(()=>[i(p,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:s[16]||(s[16]=e=>o.deletePermitDialog=!1)}),i(p,{label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:n.deletePermit},null,8,["onClick"])]),default:a(()=>[t("div",Je,[Ye,o.permit?(r(),c("span",Ke,[h("Are you sure you want to delete "),t("b",null,d(o.permit.name),1),h("?")])):m("",!0)])]),_:1},8,["visible"]),i(v,{visible:o.deletePermitsDialog,"onUpdate:visible":s[19]||(s[19]=e=>o.deletePermitsDialog=e),style:{width:"450px"},header:"Confirm",modal:!0},{footer:a(()=>[i(p,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:s[18]||(s[18]=e=>o.deletePermitsDialog=!1)}),i(p,{label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:n.deleteSelectedPermits},null,8,["onClick"])]),default:a(()=>[t("div",Qe,[Ge,o.permit?(r(),c("span",He,"Are you sure you want to delete the selected permits?")):m("",!0)])]),_:1},8,["visible"])])])])}const Dt=W(Y,[["render",Xe],["__scopeId","data-v-32cd6d73"]]);export{Dt as default};
