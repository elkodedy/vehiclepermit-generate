import{J as V,o,b as p,m as _,j as n,D as L,s as M,N as x,R as P,z as m,i as w,t as b,e as I,w as C,g as r,r as g,B as c,F as S,A as N,n as h,l as k,G as D,K as U,k as f,f as E}from"./entry.600128a6.js";import{s as R}from"./index.esm.437957f1.js";import W from"./message.esm.1d868732.js";import A from"./progressbar.esm.10954040.js";import O from"./badge.esm.017ddaec.js";import"./entry.ea737ec0.js";var z={name:"UploadIcon",extends:V};const j=n("g",{"clip-path":"url(#clip0_414_21072)"},[n("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.58942 9.82197C6.70165 9.93405 6.85328 9.99793 7.012 10C7.17071 9.99793 7.32234 9.93405 7.43458 9.82197C7.54681 9.7099 7.61079 9.55849 7.61286 9.4V2.04798L9.79204 4.22402C9.84752 4.28011 9.91365 4.32457 9.98657 4.35479C10.0595 4.38502 10.1377 4.40039 10.2167 4.40002C10.2956 4.40039 10.3738 4.38502 10.4467 4.35479C10.5197 4.32457 10.5858 4.28011 10.6413 4.22402C10.7538 4.11152 10.817 3.95902 10.817 3.80002C10.817 3.64102 10.7538 3.48852 10.6413 3.37602L7.45127 0.190618C7.44656 0.185584 7.44176 0.180622 7.43687 0.175736C7.32419 0.063214 7.17136 0 7.012 0C6.85264 0 6.69981 0.063214 6.58712 0.175736C6.58181 0.181045 6.5766 0.186443 6.5715 0.191927L3.38282 3.37602C3.27669 3.48976 3.2189 3.6402 3.22165 3.79564C3.2244 3.95108 3.28746 4.09939 3.39755 4.20932C3.50764 4.31925 3.65616 4.38222 3.81182 4.38496C3.96749 4.3877 4.11814 4.33001 4.23204 4.22402L6.41113 2.04807V9.4C6.41321 9.55849 6.47718 9.7099 6.58942 9.82197ZM11.9952 14H2.02883C1.751 13.9887 1.47813 13.9228 1.22584 13.8061C0.973545 13.6894 0.746779 13.5241 0.558517 13.3197C0.370254 13.1154 0.22419 12.876 0.128681 12.6152C0.0331723 12.3545 -0.00990605 12.0775 0.0019109 11.8V9.40005C0.0019109 9.24092 0.065216 9.08831 0.1779 8.97579C0.290584 8.86326 0.443416 8.80005 0.602775 8.80005C0.762134 8.80005 0.914966 8.86326 1.02765 8.97579C1.14033 9.08831 1.20364 9.24092 1.20364 9.40005V11.8C1.18295 12.0376 1.25463 12.274 1.40379 12.4602C1.55296 12.6463 1.76817 12.7681 2.00479 12.8H11.9952C12.2318 12.7681 12.447 12.6463 12.5962 12.4602C12.7453 12.274 12.817 12.0376 12.7963 11.8V9.40005C12.7963 9.24092 12.8596 9.08831 12.9723 8.97579C13.085 8.86326 13.2378 8.80005 13.3972 8.80005C13.5565 8.80005 13.7094 8.86326 13.8221 8.97579C13.9347 9.08831 13.998 9.24092 13.998 9.40005V11.8C14.022 12.3563 13.8251 12.8996 13.45 13.3116C13.0749 13.7236 12.552 13.971 11.9952 14Z",fill:"currentColor"})],-1),K=n("defs",null,[n("clipPath",{id:"clip0_414_21072"},[n("rect",{width:"14",height:"14",fill:"white"})])],-1),H=[j,K];function Z(e,t,i,d,a,l){return o(),p("svg",_({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),H,16)}z.render=Z;var T={emits:["remove"],props:{files:{type:Array,default:()=>[]},badgeSeverity:{type:String,default:"warning"},badgeValue:{type:String,default:null},previewWidth:{type:Number,default:50},templates:{type:null,default:null}},methods:{formatSize(e){if(e===0)return"0 B";let t=1e3,i=3,d=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],a=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,a)).toFixed(i))+" "+d[a]}},components:{FileUploadButton:M,FileUploadBadge:O,TimesIcon:x}};const G=["alt","src","width"],Y={class:"p-fileupload-file-details"},q={class:"p-fileupload-file-name"},J={class:"p-fileupload-file-size"},X={class:"p-fileupload-file-actions"};function Q(e,t,i,d,a,l){const F=m("FileUploadBadge"),B=m("TimesIcon"),y=m("FileUploadButton");return o(!0),p(S,null,w(i.files,(u,v)=>(o(),p("div",{key:u.name+u.type+u.size,class:"p-fileupload-file"},[n("img",{role:"presentation",class:"p-fileupload-file-thumbnail",alt:u.name,src:u.objectURL,width:i.previewWidth},null,8,G),n("div",Y,[n("div",q,b(u.name),1),n("span",J,b(l.formatSize(u.size)),1),I(F,{value:i.badgeValue,class:"p-fileupload-file-badge",severity:i.badgeSeverity},null,8,["value","severity"])]),n("div",X,[I(y,{onClick:s=>e.$emit("remove",v),text:"",rounded:"",severity:"danger",class:"p-fileupload-file-remove"},{icon:C(s=>[i.templates.fileremoveicon?(o(),r(g(i.templates.fileremoveicon),{key:0,class:c(s.class),file:u,index:v},null,8,["class","file","index"])):(o(),r(B,{key:1,class:c(s.class),"aria-hidden":"true"},null,8,["class"]))]),_:2},1032,["onClick"])])]))),128)}T.render=Q;var $={name:"FileUpload",emits:["select","uploader","before-upload","progress","upload","error","before-send","clear","remove","remove-uploaded-file"],props:{name:{type:String,default:null},url:{type:String,default:null},mode:{type:String,default:"advanced"},multiple:{type:Boolean,default:!1},accept:{type:String,default:null},disabled:{type:Boolean,default:!1},auto:{type:Boolean,default:!1},maxFileSize:{type:Number,default:null},invalidFileSizeMessage:{type:String,default:"{0}: Invalid file size, file size should be smaller than {1}."},invalidFileTypeMessage:{type:String,default:"{0}: Invalid file type, allowed file types: {1}."},fileLimit:{type:Number,default:null},invalidFileLimitMessage:{type:String,default:"Maximum number of files exceeded, limit is {0} at most."},withCredentials:{type:Boolean,default:!1},previewWidth:{type:Number,default:50},chooseLabel:{type:String,default:null},uploadLabel:{type:String,default:null},cancelLabel:{type:String,default:null},customUpload:{type:Boolean,default:!1},showUploadButton:{type:Boolean,default:!0},showCancelButton:{type:Boolean,default:!0},chooseIcon:{type:String,default:void 0},uploadIcon:{type:String,default:void 0},cancelIcon:{type:String,default:void 0},style:null,class:null},duplicateIEEvent:!1,data(){return{uploadedFileCount:0,files:[],messages:[],focused:!1,progress:null,uploadedFiles:[]}},methods:{onFileSelect(e){if(e.type!=="drop"&&this.isIE11()&&this.duplicateIEEvent){this.duplicateIEEvent=!1;return}this.messages=[],this.files=this.files||[];let t=e.dataTransfer?e.dataTransfer.files:e.target.files;for(let i of t)this.isFileSelected(i)||this.validate(i)&&(this.isImage(i)&&(i.objectURL=window.URL.createObjectURL(i)),this.files.push(i));this.$emit("select",{originalEvent:e,files:this.files}),this.fileLimit&&this.checkFileLimit(),this.auto&&this.hasFiles&&!this.isFileLimitExceeded()&&this.upload(),e.type!=="drop"&&this.isIE11()?this.clearIEInput():this.clearInputElement()},choose(){this.$refs.fileInput.click()},upload(){if(this.customUpload)this.fileLimit&&(this.uploadedFileCount+=this.files.length),this.$emit("uploader",{files:this.files}),this.clear();else{let e=new XMLHttpRequest,t=new FormData;this.$emit("before-upload",{xhr:e,formData:t});for(let i of this.files)t.append(this.name,i,i.name);e.upload.addEventListener("progress",i=>{i.lengthComputable&&(this.progress=Math.round(i.loaded*100/i.total)),this.$emit("progress",{originalEvent:i,progress:this.progress})}),e.onreadystatechange=()=>{e.readyState===4&&(this.progress=0,e.status>=200&&e.status<300?(this.fileLimit&&(this.uploadedFileCount+=this.files.length),this.$emit("upload",{xhr:e,files:this.files})):this.$emit("error",{xhr:e,files:this.files}),this.uploadedFiles.push(...this.files),this.clear())},e.open("POST",this.url,!0),this.$emit("before-send",{xhr:e,formData:t}),e.withCredentials=this.withCredentials,e.send(t)}},clear(){this.files=[],this.messages=null,this.$emit("clear"),this.isAdvanced&&this.clearInputElement()},onFocus(){this.focused=!0},onBlur(){this.focused=!1},isFileSelected(e){if(this.files&&this.files.length){for(let t of this.files)if(t.name+t.type+t.size===e.name+e.type+e.size)return!0}return!1},isIE11(){return!!window.MSInputMethodContext&&!!document.documentMode},validate(e){return this.accept&&!this.isFileTypeValid(e)?(this.messages.push(this.invalidFileTypeMessage.replace("{0}",e.name).replace("{1}",this.accept)),!1):this.maxFileSize&&e.size>this.maxFileSize?(this.messages.push(this.invalidFileSizeMessage.replace("{0}",e.name).replace("{1}",this.formatSize(this.maxFileSize))),!1):!0},isFileTypeValid(e){let t=this.accept.split(",").map(i=>i.trim());for(let i of t)if(this.isWildcard(i)?this.getTypeClass(e.type)===this.getTypeClass(i):e.type==i||this.getFileExtension(e).toLowerCase()===i.toLowerCase())return!0;return!1},getTypeClass(e){return e.substring(0,e.indexOf("/"))},isWildcard(e){return e.indexOf("*")!==-1},getFileExtension(e){return"."+e.name.split(".").pop()},isImage(e){return/^image\//.test(e.type)},onDragEnter(e){this.disabled||(e.stopPropagation(),e.preventDefault())},onDragOver(e){this.disabled||(L.addClass(this.$refs.content,"p-fileupload-highlight"),e.stopPropagation(),e.preventDefault())},onDragLeave(){this.disabled||L.removeClass(this.$refs.content,"p-fileupload-highlight")},onDrop(e){if(!this.disabled){L.removeClass(this.$refs.content,"p-fileupload-highlight"),e.stopPropagation(),e.preventDefault();const t=e.dataTransfer?e.dataTransfer.files:e.target.files;(this.multiple||t&&t.length===1)&&this.onFileSelect(e)}},onBasicUploaderClick(){this.hasFiles?this.upload():this.$refs.fileInput.click()},remove(e){this.clearInputElement();let t=this.files.splice(e,1)[0];this.files=[...this.files],this.$emit("remove",{file:t,files:this.files})},removeUploadedFile(e){let t=this.uploadedFiles.splice(e,1)[0];this.uploadedFiles=[...this.uploadedFiles],this.$emit("remove-uploaded-file",{file:t,files:this.uploadedFiles})},clearInputElement(){this.$refs.fileInput.value=""},clearIEInput(){this.$refs.fileInput&&(this.duplicateIEEvent=!0,this.$refs.fileInput.value="")},formatSize(e){if(e===0)return"0 B";let t=1e3,i=3,d=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],a=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,a)).toFixed(i))+" "+d[a]},isFileLimitExceeded(){return this.fileLimit&&this.fileLimit<=this.files.length+this.uploadedFileCount&&this.focused&&(this.focused=!1),this.fileLimit&&this.fileLimit<this.files.length+this.uploadedFileCount},checkFileLimit(){this.isFileLimitExceeded()&&this.messages.push(this.invalidFileLimitMessage.replace("{0}",this.fileLimit.toString()))},onMessageClose(){this.messages=null}},computed:{isAdvanced(){return this.mode==="advanced"},isBasic(){return this.mode==="basic"},advancedChooseButtonClass(){return["p-button p-component p-fileupload-choose",this.class,{"p-disabled":this.disabled,"p-focus":this.focused}]},basicChooseButtonClass(){return["p-button p-component p-fileupload-choose",this.class,{"p-fileupload-choose-selected":this.hasFiles,"p-disabled":this.disabled,"p-focus":this.focused}]},basicChooseButtonLabel(){return this.auto?this.chooseButtonLabel:this.hasFiles?this.files.map(e=>e.name).join(", "):this.chooseButtonLabel},hasFiles(){return this.files&&this.files.length>0},hasUploadedFiles(){return this.uploadedFiles&&this.uploadedFiles.length>0},chooseDisabled(){return this.disabled||this.fileLimit&&this.fileLimit<=this.files.length+this.uploadedFileCount},uploadDisabled(){return this.disabled||!this.hasFiles||this.fileLimit&&this.fileLimit<this.files.length},cancelDisabled(){return this.disabled||!this.hasFiles},chooseButtonLabel(){return this.chooseLabel||this.$primevue.config.locale.choose},uploadButtonLabel(){return this.uploadLabel||this.$primevue.config.locale.upload},cancelButtonLabel(){return this.cancelLabel||this.$primevue.config.locale.cancel},completedLabel(){return this.$primevue.config.locale.completed},pendingLabel(){return this.$primevue.config.locale.pending}},components:{FileUploadButton:M,FileUploadProgressBar:A,FileUploadMessage:W,FileContent:T,PlusIcon:R,UploadIcon:z,TimesIcon:x},directives:{ripple:P}};const ee={key:0,class:"p-fileupload p-fileupload-advanced p-component"},le=["multiple","accept","disabled"],te={class:"p-fileupload-buttonbar"},ie={class:"p-button-label"},se={key:0,class:"p-fileupload-empty"},ae={key:1,class:"p-fileupload p-fileupload-basic p-component"},oe={class:"p-button-label"},ne=["accept","disabled","multiple"];function de(e,t,i,d,a,l){const F=m("FileUploadButton"),B=m("FileUploadProgressBar"),y=m("FileUploadMessage"),u=m("FileContent"),v=N("ripple");return l.isAdvanced?(o(),p("div",ee,[n("input",{ref:"fileInput",type:"file",onChange:t[0]||(t[0]=(...s)=>l.onFileSelect&&l.onFileSelect(...s)),multiple:i.multiple,accept:i.accept,disabled:l.chooseDisabled},null,40,le),n("div",te,[h(e.$slots,"header",{files:a.files,uploadedFiles:a.uploadedFiles,chooseCallback:l.choose,uploadCallback:l.upload,clearCallback:l.clear},()=>[k((o(),p("span",{class:c(l.advancedChooseButtonClass),style:D(i.style),onClick:t[1]||(t[1]=(...s)=>l.choose&&l.choose(...s)),onKeydown:t[2]||(t[2]=U((...s)=>l.choose&&l.choose(...s),["enter"])),onFocus:t[3]||(t[3]=(...s)=>l.onFocus&&l.onFocus(...s)),onBlur:t[4]||(t[4]=(...s)=>l.onBlur&&l.onBlur(...s)),tabindex:"0"},[h(e.$slots,"chooseicon",{},()=>[(o(),r(g(i.chooseIcon?"span":"PlusIcon"),{class:c(["p-button-icon p-button-icon-left",i.chooseIcon]),"aria-hidden":"true"},null,8,["class"]))]),n("span",ie,b(l.chooseButtonLabel),1)],38)),[[v]]),i.showUploadButton?(o(),r(F,{key:0,label:l.uploadButtonLabel,onClick:l.upload,disabled:l.uploadDisabled},{icon:C(s=>[h(e.$slots,"uploadicon",{},()=>[(o(),r(g(i.uploadIcon?"span":"UploadIcon"),{class:c([s.class,i.uploadIcon]),"aria-hidden":"true"},null,8,["class"]))])]),_:3},8,["label","onClick","disabled"])):f("",!0),i.showCancelButton?(o(),r(F,{key:1,label:l.cancelButtonLabel,onClick:l.clear,disabled:l.cancelDisabled},{icon:C(s=>[h(e.$slots,"cancelicon",{},()=>[(o(),r(g(i.cancelIcon?"span":"TimesIcon"),{class:c([s.class,i.cancelIcon]),"aria-hidden":"true"},null,8,["class"]))])]),_:3},8,["label","onClick","disabled"])):f("",!0)])]),n("div",{ref:"content",class:"p-fileupload-content",onDragenter:t[5]||(t[5]=(...s)=>l.onDragEnter&&l.onDragEnter(...s)),onDragover:t[6]||(t[6]=(...s)=>l.onDragOver&&l.onDragOver(...s)),onDragleave:t[7]||(t[7]=(...s)=>l.onDragLeave&&l.onDragLeave(...s)),onDrop:t[8]||(t[8]=(...s)=>l.onDrop&&l.onDrop(...s))},[h(e.$slots,"content",{files:a.files,uploadedFiles:a.uploadedFiles,removeUploadedFileCallback:l.removeUploadedFile,removeFileCallback:l.remove,progress:a.progress,messages:a.messages},()=>[l.hasFiles?(o(),r(B,{key:0,value:a.progress,showValue:!1},null,8,["value"])):f("",!0),(o(!0),p(S,null,w(a.messages,s=>(o(),r(y,{key:s,severity:"error",onClose:l.onMessageClose},{default:C(()=>[E(b(s),1)]),_:2},1032,["onClose"]))),128)),l.hasFiles?(o(),r(u,{key:1,files:a.files,onRemove:l.remove,badgeValue:l.pendingLabel,previewWidth:i.previewWidth,templates:e.$slots},null,8,["files","onRemove","badgeValue","previewWidth","templates"])):f("",!0),I(u,{files:a.uploadedFiles,onRemove:l.removeUploadedFile,badgeValue:l.completedLabel,badgeSeverity:"success",previewWidth:i.previewWidth,templates:e.$slots},null,8,["files","onRemove","badgeValue","previewWidth","templates"])]),e.$slots.empty&&!l.hasFiles&&!l.hasUploadedFiles?(o(),p("div",se,[h(e.$slots,"empty")])):f("",!0)],544)])):l.isBasic?(o(),p("div",ae,[(o(!0),p(S,null,w(a.messages,s=>(o(),r(y,{key:s,severity:"error",onClose:l.onMessageClose},{default:C(()=>[E(b(s),1)]),_:2},1032,["onClose"]))),128)),k((o(),p("span",{class:c(l.basicChooseButtonClass),style:D(i.style),onMouseup:t[12]||(t[12]=(...s)=>l.onBasicUploaderClick&&l.onBasicUploaderClick(...s)),onKeydown:t[13]||(t[13]=U((...s)=>l.choose&&l.choose(...s),["enter"])),onFocus:t[14]||(t[14]=(...s)=>l.onFocus&&l.onFocus(...s)),onBlur:t[15]||(t[15]=(...s)=>l.onBlur&&l.onBlur(...s)),tabindex:"0"},[!l.hasFiles||i.auto?h(e.$slots,"uploadicon",{key:0},()=>[(o(),r(g(i.uploadIcon?"span":"UploadIcon"),{class:c(["p-button-icon p-button-icon-left",i.uploadIcon]),"aria-hidden":"true"},null,8,["class"]))]):h(e.$slots,"chooseicon",{key:1},()=>[(o(),r(g(i.chooseIcon?"span":"PlusIcon"),{class:c(["p-button-icon p-button-icon-left",i.chooseIcon]),"aria-hidden":"true"},null,8,["class"]))]),n("span",oe,b(l.basicChooseButtonLabel),1),l.hasFiles?f("",!0):(o(),p("input",{key:2,ref:"fileInput",type:"file",accept:i.accept,disabled:i.disabled,multiple:i.multiple,onChange:t[9]||(t[9]=(...s)=>l.onFileSelect&&l.onFileSelect(...s)),onFocus:t[10]||(t[10]=(...s)=>l.onFocus&&l.onFocus(...s)),onBlur:t[11]||(t[11]=(...s)=>l.onBlur&&l.onBlur(...s))},null,40,ne))],38)),[[v]])])):f("",!0)}function re(e,t){t===void 0&&(t={});var i=t.insertAt;if(!(!e||typeof document>"u")){var d=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",i==="top"&&d.firstChild?d.insertBefore(a,d.firstChild):d.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}var ue=`
.p-fileupload-content {
    position: relative;
}
.p-fileupload-content .p-progressbar {
    width: 100%;
    position: absolute;
    top: 0;
    left: 0;
}
.p-button.p-fileupload-choose {
    position: relative;
    overflow: hidden;
}
.p-fileupload-buttonbar {
    display: flex;
    flex-wrap: wrap;
}
.p-fileupload > input[type='file'],
.p-fileupload-basic input[type='file'] {
    display: none;
}
.p-fluid .p-fileupload .p-button {
    width: auto;
}
.p-fileupload-file {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
}
.p-fileupload-file-thumbnail {
    flex-shrink: 0;
}
.p-fileupload-file-actions {
    margin-left: auto;
}
`;re(ue);$.render=de;export{$ as default};
