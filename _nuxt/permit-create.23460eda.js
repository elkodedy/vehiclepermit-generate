import I from"./divider.esm.a72a9d0b.js";import T from"./inputtext.esm.c1754ed2.js";import{s as U}from"./dropdown.esm.d9282188.js";import B from"./calendar.esm.5b2eccc5.js";import S from"./column.esm.01b3d724.js";import{b as h,j as e,e as l,g as p,w as n,k as a,s as z,z as q,I as R,o,t as m,B as b,f as g}from"./entry.33a98e6d.js";import J from"./datatable.esm.caf4439a.js";import k from"./textarea.esm.eaf76b3f.js";import{_ as P}from"./_plugin-vue_export-helper.c27b6911.js";import"./basecomponent.esm.04ea3a73.js";import"./entry.020dcd79.js";import"./index.esm.7d369c88.js";import"./virtualscroller.esm.a3f829f0.js";import"./index.esm.0ecb615e.js";import"./index.esm.a8d6ecc4.js";import"./index.esm.a9c75abf.js";import"./paginator.esm.9da4e935.js";import"./index.esm.79741361.js";import"./inputnumber.esm.9dae0ab1.js";import"./index.esm.5f2c88d6.js";import"./index.esm.8ec9b354.js";import"./index.esm.2cd605ec.js";import"./index.esm.193858ba.js";import"./index.esm.6f1f13e2.js";import"./index.esm.70717dd2.js";const K={components:{Textarea:k},data(){return{date:null,documentType:null,documentTypes:["Barang Masuk","Barang Keluar"],vehicles:[],vehicle:{},vehicleDialog:!1,deleteVehicleDialog:!1,submitted:!1,expandedRows:null,items:[],item:{},itemDialog:!1,deleteItemDialog:!1,itemSubmitted:!1,itemExpandedRows:null,showTable:!1,lgDeviceWidth:1024}},created(){},mounted(){this.showTable=window.innerWidth>=this.lgDeviceWidth,this.$nextTick(()=>{window.addEventListener("resize",this.onResize)})},beforeDestroy(){window.removeEventListener("resize",this.onResize)},methods:{onResize(){this.showTable=window.innerWidth>=this.lgDeviceWidth},openVehicle(){this.vehicles.length<5?(this.vehicle={},this.submitted=!1,this.vehicleDialog=!0):this.$toast.add({severity:"warn",summary:"Perhatian",detail:"Data Kendaraan Maksimal 5",life:3e3})},hideDialog(){this.vehicleDialog=!1,this.submitted=!1},saveVehicle(){this.submitted=!0,this.vehicles[this.findIndexByPoliceNumber(this.vehicle.police_number)]?this.vehicles[this.findIndexByPoliceNumber(this.vehicle.police_number)]=this.vehicle:this.vehicles.push(this.vehicle),this.vehicleDialog=!1,this.vehicle={}},editVehicle(d){this.vehicle={...d},this.vehicleDialog=!0},confirmDeleteVehicle(d){this.vehicle=d,this.deleteVehicleDialog=!0},deleteVehicle(){this.vehicles=this.vehicles.filter(d=>d.police_number!==this.vehicle.police_number),this.deleteVehicleDialog=!1,this.vehicle={},this.$toast.add({severity:"success",summary:"Successful",detail:"Vehicle Deleted",life:3e3})},findIndexByPoliceNumber(d){let s=-1;for(let v=0;v<this.vehicles.length;v++)if(this.vehicles[v].police_number===d){s=v;break}return s},openItem(){this.items.length<5?(this.item={},this.itemSubmitted=!1,this.itemDialog=!0):this.$toast.add({severity:"warn",summary:"Perhatian",detail:"Data Kendaraan Maksimal 5",life:3e3})},hideDialogItem(){this.itemDialog=!1,this.itemSubmitted=!1},saveItem(){this.itemSubmitted=!0,this.items[this.findIndexByItemName(this.item.item_name)]?this.items[this.findIndexByItemName(this.item.item_name)]=this.item:this.items.push(this.item),this.itemDialog=!1,this.item={}},editItem(d){this.item={...d},this.itemDialog=!0},confirmDeleteItem(d){this.item=d,this.deleteItemDialog=!0},deleteItem(){this.items=this.items.filter(d=>d.item_name!==this.item.item_name),this.deleteItemDialog=!1,this.item={},this.$toast.add({severity:"success",summary:"Successful",detail:"Item Deleted",life:3e3})},findIndexByItemName(d){let s=-1;for(let v=0;v<this.items.length;v++)if(this.items[v].item_name===d){s=v;break}return s},onAdvancedUpload(){this.$toast.add({severity:"info",summary:"Success",detail:"File Uploaded",life:3e3})}}};const M={class:"grid p-fluid mt-2"},E={class:"col-12"},W={class:"card"},A={class:"card-title"},H=e("h5",{class:"mb-3"}," Form Baru ",-1),j={class:"grid formgrid"},L={class:"col-12 mb-2 lg:col-4 lg:mb-0"},F=e("strong",{class:"text-gray-700"},"No Dokumen",-1),Y={class:"col-12 mb-2 lg:col-4 lg:mb-0"},Z=e("strong",{class:"text-gray-700"},"Jenis Dokumen",-1),O={class:"col-12 mb-2 lg:col-4 lg:mb-0"},G=e("strong",{class:"text-gray-700"},"Tanggal",-1),Q={class:"grid formgrid"},X=e("div",{class:"col-12 mb-2 pt-4"},[e("strong",{class:"text-gray-700"},"Pemohon")],-1),$={class:"col-12 grid"},ee=e("div",{class:"col-4 mb-2 pt-2"},"NIK",-1),te={class:"col-8 mb-2"},ie={class:"col-12 mt-1 grid"},se=e("div",{class:"col-4 mb-2 pt-2"},"Nama",-1),le={class:"col-8 mb-2"},oe={class:"col-12 mt-1 grid"},ne=e("div",{class:"col-4 mb-2 pt-2"},"Perusahaan",-1),ae={class:"col-8 mb-2"},de={class:"col-12 mt-1 grid"},ce=e("div",{class:"col-4 mb-2 pt-2 mt-4"},"Departmen",-1),me={class:"col-8 mb-2 mt-4"},re={class:"col-12 mt-1 grid"},ue=e("div",{class:"col-4 mb-2 pt-2"},"Jabatan",-1),_e={class:"col-8 mb-2"},he={class:"col-12 mt-1 grid"},pe=e("div",{class:"col-4 mb-2 md:pt-2"},"No Handphone",-1),ve={class:"col-8 mb-2"},be={class:"grid formgrid"},ye=e("div",{class:"col-12 mb-2 pt-4"},[e("strong",{class:"text-gray-700 mt-4"},"Kendaraan")],-1),fe={class:"col-12"},ge=e("span",{class:"p-column-title"},"Nomor Polisi",-1),xe={class:"text-gray-700"},ke=e("span",{class:"p-column-title"},"Jenis Kendaraan",-1),De={class:"text-gray-700"},we=e("span",{class:"p-column-title"},"Nama Pengemudi",-1),Ve={class:"text-gray-700"},Ce=e("span",{class:"p-column-title"},"Nama Penumpang",-1),Ne={class:"text-gray-700"},Ie=e("span",{class:"p-column-title"},null,-1),Te={class:"text-gray-700"},Ue={class:""},Be={style:{width:"100%"}},Se={border:"1"},ze=e("td",null,"Jenis Kendaraan",-1),qe=e("td",null,"Nama Pengemudi",-1),Re=e("td",null,"Nama Penumpang",-1),Je={class:"mt-2"},Pe={class:"grid formgrid"},Ke=e("div",{class:"col-12 mb-2 pt-4"},[e("strong",{class:"text-gray-700 mt-4"},"Barang")],-1),Me={class:"col-12"},Ee=e("span",{class:"p-column-title"},"Nama Barang",-1),We={class:"text-gray-700"},Ae=e("span",{class:"p-column-title"},"Satuan",-1),He={class:"text-gray-700"},je=e("span",{class:"p-column-title"},"Jumlah",-1),Le={class:"text-gray-700"},Fe=e("span",{class:"p-column-title"},"Catatan",-1),Ye={class:"text-gray-700"},Ze={class:""},Oe={style:{width:"100%"}},Ge={border:"1"},Qe=e("td",null,"Satuan",-1),Xe=e("td",null,"Jumlah",-1),$e=e("td",null,"Catatan",-1),et={class:"mt-2"},tt={class:"grid formgrid"},it={class:"col-12 pt-4"},st=e("strong",{class:"text-gray-700"},"Alasan Membawa Barang",-1),lt={class:"grid formgrid"},ot={class:"col-12 mb-2 pt-4"},nt=e("strong",{class:"text-gray-700"},"Lampiran",-1),at={class:"field"},dt=e("label",{for:"police_number"},"Nomor Polisi",-1),ct={key:0,class:"p-invalid"},mt={class:"field"},rt=e("label",{for:"driver_name"},"Nama Pengemudi",-1),ut={key:0,class:"p-invalid"},_t={class:"field"},ht=e("label",{for:"vehicle_type"},"Jenis Kendaraan",-1),pt={key:0,class:"p-invalid"},vt={class:"field"},bt=e("label",{for:"passenger_name"},"Nama Penumpang",-1),yt={key:0,class:"p-invalid"},ft=e("div",{class:"field"},[e("small",{class:"text-gray-500"},[e("i",null," Catatan : Jika penumpang lebih dari satu orang, silahkan isi nama dan pisahkan dengan tanda koma ")])],-1),gt={class:"field"},xt=e("label",{for:"item_name"},"Nama Barang",-1),kt={key:0,class:"p-invalid"},Dt={class:"field"},wt=e("label",{for:"item_unit"},"Satuan",-1),Vt={key:0,class:"p-invalid"},Ct={class:"field"},Nt=e("label",{for:"item_count"},"Jumlah",-1),It={key:0,class:"p-invalid"},Tt={class:"field"},Ut=e("label",{for:"item_note"},"Catatan",-1),Bt={key:0,class:"p-invalid"},St={class:"flex align-items-center justify-content-center"},zt=e("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1),qt={key:0},Rt={class:"flex align-items-center justify-content-center"},Jt=e("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1),Pt={key:0};function Kt(d,s,v,Mt,t,u){const D=I,r=T,w=U,V=B,_=S,c=z,x=J,C=k,N=q("DropZone"),f=R;return o(),h("div",M,[e("div",E,[e("div",W,[e("div",A,[H,l(D)]),e("div",j,[e("div",L,[F,l(r,{type:"text",placeholder:"Disabled",disabled:!0})]),e("div",Y,[Z,l(w,{modelValue:t.documentType,"onUpdate:modelValue":s[0]||(s[0]=i=>t.documentType=i),options:t.documentTypes,placeholder:"-Pilih-",class:"w-full"},null,8,["modelValue","options"])]),e("div",O,[G,l(V,{modelValue:t.date,"onUpdate:modelValue":s[1]||(s[1]=i=>t.date=i),showIcon:""},null,8,["modelValue"])])]),e("div",Q,[X,e("div",$,[ee,e("div",te,[l(r,{type:"text",placeholder:"",class:"p-inputtext-sm"})])]),e("div",ie,[se,e("div",le,[l(r,{type:"text",placeholder:"",class:"p-inputtext-sm"})])]),e("div",oe,[ne,e("div",ae,[l(r,{type:"text",placeholder:"",class:"p-inputtext-sm"})])]),e("div",de,[ce,e("div",me,[l(r,{type:"text",placeholder:"",class:"p-inputtext-sm"})])]),e("div",re,[ue,e("div",_e,[l(r,{type:"text",placeholder:"",class:"p-inputtext-sm"})])]),e("div",he,[pe,e("div",ve,[l(r,{type:"text",placeholder:"",class:"p-inputtext-sm"})])])]),e("div",be,[ye,e("div",fe,[t.vehicles.length?(o(),p(x,{key:0,ref:"dt",expandedRows:t.expandedRows,"onUpdate:expandedRows":s[2]||(s[2]=i=>t.expandedRows=i),value:t.vehicles,"data-key":"police_number","responsive-layout":"scroll"},{expansion:n(i=>[e("div",Ue,[e("table",Be,[e("tr",Se,[ze,e("td",null,": "+m(i.data.vehicle_type),1)]),e("tr",null,[qe,e("td",null,": "+m(i.data.driver_name),1)]),e("tr",null,[Re,e("td",null,": "+m(i.data.passenger_name),1)])])]),e("div",Je,[l(c,{label:"Edit",icon:"pi pi-pencil",severity:"secondary",outlined:"",size:"small",style:{width:"30%"},onClick:y=>u.editVehicle(i.data)},null,8,["onClick"]),l(c,{label:"Hapus",icon:"pi pi-trash",severity:"secondary",outlined:"",size:"small",style:{width:"30%"},class:"ml-2",onClick:y=>u.confirmDeleteVehicle(i.data)},null,8,["onClick"])])]),default:n(()=>[t.showTable?a("",!0):(o(),p(_,{key:0,class:"py-1",expander:"",style:{width:"10px"}})),l(_,{class:"py-1",field:"police_number",header:"Nomor Polisi"},{body:n(i=>[ge,e("strong",xe,m(i.data.police_number),1)]),_:1}),t.showTable?(o(),p(_,{key:1,class:"py-1",field:"vehicle_type",header:"Jenis Kendaraan"},{body:n(i=>[ke,e("span",De,m(i.data.vehicle_type),1)]),_:1})):a("",!0),t.showTable?(o(),p(_,{key:2,class:"py-1",field:"driver_name",header:"Nama Pengemudi"},{body:n(i=>[we,e("span",Ve,m(i.data.driver_name),1)]),_:1})):a("",!0),t.showTable?(o(),p(_,{key:3,class:"py-1",field:"passenger_name",header:"Nama Penumpang"},{body:n(i=>[Ce,e("span",Ne,m(i.data.passenger_name),1)]),_:1})):a("",!0),t.showTable?(o(),p(_,{key:4,class:"py-1",field:"",header:"#"},{body:n(i=>[Ie,e("span",Te,[l(c,{label:"Edit",icon:"pi pi-pencil",severity:"secondary",outlined:"",size:"small",style:{width:"40%"},onClick:y=>u.editVehicle(i.data)},null,8,["onClick"]),l(c,{label:"Hapus",icon:"pi pi-trash",severity:"secondary",outlined:"",size:"small",style:{width:"40%"},class:"ml-2",onClick:y=>u.confirmDeleteVehicle(i.data)},null,8,["onClick"])])]),_:1})):a("",!0)]),_:1},8,["expandedRows","value"])):a("",!0),l(c,{label:"Tambah Kendaraan",icon:"pi pi-plus",severity:"secondary",outlined:"",size:"small",onClick:u.openVehicle},null,8,["onClick"])])]),e("div",Pe,[Ke,e("div",Me,[t.items.length?(o(),p(x,{key:0,ref:"dt",expandedRows:t.itemExpandedRows,"onUpdate:expandedRows":s[3]||(s[3]=i=>t.itemExpandedRows=i),value:t.items,"data-key":"item_name","responsive-layout":"scroll"},{expansion:n(i=>[e("div",Ze,[e("table",Oe,[e("tr",Ge,[Qe,e("td",null,": "+m(i.data.item_unit??"-"),1)]),e("tr",null,[Xe,e("td",null,": "+m(i.data.item_count??"-"),1)]),e("tr",null,[$e,e("td",null,": "+m(i.data.item_note??"-"),1)])])]),e("div",et,[l(c,{label:"Edit",icon:"pi pi-pencil",severity:"secondary",outlined:"",size:"small",style:{width:"30%"},onClick:y=>u.editItem(i.data)},null,8,["onClick"]),l(c,{label:"Hapus",icon:"pi pi-trash",severity:"secondary",outlined:"",size:"small",style:{width:"30%"},class:"ml-2",onClick:y=>u.confirmDeleteItem(i.data)},null,8,["onClick"])])]),default:n(()=>[t.showTable?a("",!0):(o(),p(_,{key:0,class:"py-1",expander:"",style:{width:"10px"}})),l(_,{class:"py-1",field:"item_name",header:"Nama Barang"},{body:n(i=>[Ee,e("strong",We,m(i.data.item_name),1)]),_:1}),t.showTable?(o(),p(_,{key:1,class:"py-1",field:"item_unit",header:"Satuan"},{body:n(i=>[Ae,e("span",He,m(i.data.item_unit),1)]),_:1})):a("",!0),t.showTable?(o(),p(_,{key:2,class:"py-1",field:"item_count",header:"Jumlah"},{body:n(i=>[je,e("span",Le,m(i.data.item_count),1)]),_:1})):a("",!0),t.showTable?(o(),p(_,{key:3,class:"py-1",field:"item_note",header:"Catatan"},{body:n(i=>[Fe,e("span",Ye,m(i.data.item_note),1)]),_:1})):a("",!0)]),_:1},8,["expandedRows","value"])):a("",!0),l(c,{label:"Tambah Barang",icon:"pi pi-plus",severity:"secondary",outlined:"",size:"small",onClick:u.openItem},null,8,["onClick"])])]),e("div",tt,[e("div",it,[st,l(C,{type:"text",placeholder:"",rows:"3"})])]),e("div",lt,[e("div",ot,[nt,l(N,{url:"",uploadOnDrop:!0,multipleUpload:!0,parallelUpload:3})])])])]),l(f,{visible:t.vehicleDialog,"onUpdate:visible":s[8]||(s[8]=i=>t.vehicleDialog=i),header:"Detail Kendaraan",modal:!0,class:"p-fluid mx-3"},{footer:n(()=>[l(c,{label:"Cancel",icon:"pi pi-times",class:"p-button-text my-2",onClick:u.hideDialog},null,8,["onClick"]),l(c,{label:"Save",icon:"pi pi-check",class:"p-button-text my-2",onClick:u.saveVehicle},null,8,["onClick"])]),default:n(()=>[e("div",at,[dt,l(r,{id:"police_number",modelValue:t.vehicle.police_number,"onUpdate:modelValue":s[4]||(s[4]=i=>t.vehicle.police_number=i),modelModifiers:{trim:!0},required:"true",autofocus:"",class:b({"p-invalid":t.submitted&&!t.vehicle.police_number})},null,8,["modelValue","class"]),t.submitted&&!t.vehicle.police_number?(o(),h("small",ct,"Nomor Polisi is required.")):a("",!0)]),e("div",mt,[rt,l(r,{id:"driver_name",modelValue:t.vehicle.driver_name,"onUpdate:modelValue":s[5]||(s[5]=i=>t.vehicle.driver_name=i),modelModifiers:{trim:!0},required:"true",autofocus:"",class:b({"p-invalid":t.submitted&&!t.vehicle.driver_name})},null,8,["modelValue","class"]),t.submitted&&!t.vehicle.driver_name?(o(),h("small",ut,"Nama Pengemudi is required.")):a("",!0)]),e("div",_t,[ht,l(r,{id:"vehicle_type",modelValue:t.vehicle.vehicle_type,"onUpdate:modelValue":s[6]||(s[6]=i=>t.vehicle.vehicle_type=i),modelModifiers:{trim:!0},required:"true",autofocus:"",class:b({"p-invalid":t.submitted&&!t.vehicle.vehicle_type})},null,8,["modelValue","class"]),t.submitted&&!t.vehicle.vehicle_type?(o(),h("small",pt,"Jenis Kendaraan is required.")):a("",!0)]),e("div",vt,[bt,l(r,{id:"passenger_name",modelValue:t.vehicle.passenger_name,"onUpdate:modelValue":s[7]||(s[7]=i=>t.vehicle.passenger_name=i),modelModifiers:{trim:!0},required:"true",autofocus:"",class:b({"p-invalid":t.submitted&&!t.vehicle.passenger_name})},null,8,["modelValue","class"]),t.submitted&&!t.vehicle.passenger_name?(o(),h("small",yt,"Nama Penumpang is required.")):a("",!0)]),ft]),_:1},8,["visible"]),l(f,{visible:t.itemDialog,"onUpdate:visible":s[13]||(s[13]=i=>t.itemDialog=i),header:"Detail Barang",modal:!0,class:"p-fluid mx-3"},{footer:n(()=>[l(c,{label:"Cancel",icon:"pi pi-times",class:"p-button-text my-2",onClick:u.hideDialogItem},null,8,["onClick"]),l(c,{label:"Save",icon:"pi pi-check",class:"p-button-text my-2",onClick:u.saveItem},null,8,["onClick"])]),default:n(()=>[e("div",gt,[xt,l(r,{id:"item_name",modelValue:t.item.item_name,"onUpdate:modelValue":s[9]||(s[9]=i=>t.item.item_name=i),modelModifiers:{trim:!0},required:"true",autofocus:"",class:b({"p-invalid":t.itemSubmitted&&!t.item.item_name})},null,8,["modelValue","class"]),t.itemSubmitted&&!t.item.item_name?(o(),h("small",kt,"Nama Barang is required.")):a("",!0)]),e("div",Dt,[wt,l(r,{id:"item_unit",modelValue:t.item.item_unit,"onUpdate:modelValue":s[10]||(s[10]=i=>t.item.item_unit=i),modelModifiers:{trim:!0},required:"true",autofocus:"",class:b({"p-invalid":t.itemSubmitted&&!t.item.item_unit})},null,8,["modelValue","class"]),t.itemSubmitted&&!t.item.item_unit?(o(),h("small",Vt,"Satuan is required.")):a("",!0)]),e("div",Ct,[Nt,l(r,{id:"item_count",modelValue:t.item.item_count,"onUpdate:modelValue":s[11]||(s[11]=i=>t.item.item_count=i),modelModifiers:{trim:!0},required:"true",autofocus:"",class:b({"p-invalid":t.itemSubmitted&&!t.item.item_count})},null,8,["modelValue","class"]),t.itemSubmitted&&!t.item.item_count?(o(),h("small",It,"Jumlah is required.")):a("",!0)]),e("div",Tt,[Ut,l(r,{id:"item_note",modelValue:t.item.item_note,"onUpdate:modelValue":s[12]||(s[12]=i=>t.item.item_note=i),modelModifiers:{trim:!0},required:"true",autofocus:"",class:b({"p-invalid":t.itemSubmitted&&!t.item.item_note})},null,8,["modelValue","class"]),t.itemSubmitted&&!t.item.item_note?(o(),h("small",Bt,"Catatan is required.")):a("",!0)])]),_:1},8,["visible"]),l(f,{visible:t.deleteVehicleDialog,"onUpdate:visible":s[15]||(s[15]=i=>t.deleteVehicleDialog=i),class:"mx-3",header:"Confirm",modal:!0},{footer:n(()=>[l(c,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:s[14]||(s[14]=i=>t.deleteVehicleDialog=!1)}),l(c,{label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:u.deleteVehicle},null,8,["onClick"])]),default:n(()=>[e("div",St,[zt,t.vehicle?(o(),h("span",qt,[g("Are you sure you want to delete "),e("b",null,m(t.vehicle.police_number),1),g("?")])):a("",!0)])]),_:1},8,["visible"]),l(f,{visible:t.deleteItemDialog,"onUpdate:visible":s[17]||(s[17]=i=>t.deleteItemDialog=i),class:"mx-3",header:"Confirm",modal:!0},{footer:n(()=>[l(c,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:s[16]||(s[16]=i=>t.deleteItemDialog=!1)}),l(c,{label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:u.deleteItem},null,8,["onClick"])]),default:n(()=>[e("div",Rt,[Jt,t.item?(o(),h("span",Pt,[g("Are you sure you want to delete "),e("b",null,m(t.item.item_name),1),g("?")])):a("",!0)])]),_:1},8,["visible"])])}const ri=P(K,[["render",Kt]]);export{ri as default};
