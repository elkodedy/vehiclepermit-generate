import{a6 as T,ad as U,b as c,j as t,e as l,B as _,k as r,g as f,w as a,s as B,z as N,I as E,o as n,t as p,f as b}from"./entry.b9153a06.js";import R from"./divider.esm.19f909ac.js";import z from"./inputtext.esm.104f294d.js";import{s as P}from"./dropdown.esm.fcdad3b3.js";import J from"./calendar.esm.62aef697.js";import M from"./column.esm.01b3d724.js";import F from"./datatable.esm.9db32825.js";import V from"./textarea.esm.6922fb0d.js";import{u as x}from"./useMyFetch.1f0d7db9.js";import{S as K}from"./sweetalert.min.c91536f3.js";import{i as A}from"./fp.esm.31497e30.js";import{_ as L}from"./_plugin-vue_export-helper.c27b6911.js";import"./entry.7291cd7f.js";import"./basecomponent.esm.482e346f.js";import"./index.esm.83cb8100.js";import"./virtualscroller.esm.d0c94242.js";import"./index.esm.5ee52e62.js";import"./index.esm.ad5e98d3.js";import"./index.esm.83df8d55.js";import"./paginator.esm.10b5c7f9.js";import"./index.esm.8ad36174.js";import"./inputnumber.esm.2f4424d9.js";import"./index.esm.352ce731.js";import"./index.esm.3dd487a1.js";import"./index.esm.0ebf10cf.js";import"./index.esm.a9de877b.js";import"./index.esm.55f9558b.js";import"./index.esm.62cdfcbe.js";const G={layout:"empty",middleware:"local",components:{Textarea:V},data(){return{date:null,documentType:null,documentTypes:[{label:"Barang Masuk",value:1},{label:"Barang Keluar",value:2}],form:{},submitted:!1,vehicles:[],vehicle:{},vehicleDialog:!1,deleteVehicleDialog:!1,vhclSubmitted:!1,expandedRows:null,items:[],item:{},submitted_item:!1,itemDialog:!1,deleteItemDialog:!1,itemSubmitted:!1,itemExpandedRows:null,showTable:!1,lgDeviceWidth:1024,images:[],tenant:"",config:T(),route:U().params,activeTenantcode:localStorage.getItem("vehiclepermit.active-tenant-code")}},created(){this.getTenant()},mounted(){this.showTable=window.innerWidth>=this.lgDeviceWidth,this.$nextTick(()=>{window.addEventListener("resize",this.onResize)}),console.log("fingerprint",this.getFingerPrint())},beforeDestroy(){window.removeEventListener("resize",this.onResize)},methods:{async savePermits(){this.form.vehicle=this.vehicles,this.form.item=this.items,this.form.prmt_fingerprint_id=await this.getFingerPrint(),x("api/itempermithd/",{method:"POST",body:this.form}).then(o=>{K("Berhasil!","Berhasil membuat surat izin.","success").then(()=>this.$router.push({path:"/permits/detail@"+o.prmt_url_code}))}).catch(o=>{this.submitted=!0,this.$toast.add({severity:"error",summary:"Gagal!",detail:o.data.message,life:3e3})})},getDocNum(){x("api/get-document-number/",{method:"POST",body:{prmt_type:this.form.prmt_type}}).then(o=>{this.form.prmt_number=o}).catch(o=>{this.$toast.add({severity:"error",summary:"Gagal!",detail:o.data.message,life:3e3})})},getTenant(){x("api/get-tenant/",{method:"POST",body:{tenant_code:this.activeTenantcode}}).then(o=>{this.tenant=o.tenant_alias,this.form.id_tenant=o.id_tenant}).catch(o=>{})},openVehicle(){this.vehicles.length<5?(this.vehicle={},this.vhclSubmitted=!1,this.vehicleDialog=!0):this.$toast.add({severity:"warn",summary:"Perhatian",detail:"Data Kendaraan Maksimal 5",life:3e3})},hideDialog(){this.vehicleDialog=!1,this.vhclSubmitted=!1},saveVehicle(){this.vehicle.vhcl_number&&this.vehicle.vhcl_driver&&this.vehicle.vhcl_type?(this.vhclSubmitted=!0,this.vehicles[this.findIndexByVehicleId(this.vehicle.idExpand)]?this.vehicles[this.findIndexByVehicleId(this.vehicle.idExpand)]=this.vehicle:(this.vehicle.idExpand=this.createId(),this.vehicles.push(this.vehicle)),this.vehicleDialog=!1,this.vehicle={}):(this.vhclSubmitted=!0,this.$toast.add({severity:"error",summary:"Gagal!",detail:"Silahkan Lengkapi Data!",life:3e3}))},editVehicle(o){this.vehicle={...o},this.vehicleDialog=!0},confirmDeleteVehicle(o){this.vehicle=o,this.deleteVehicleDialog=!0},deleteVehicle(){this.vehicles=this.vehicles.filter(o=>o.idExpand!==this.vehicle.idExpand),this.deleteVehicleDialog=!1,this.vehicle={},this.$toast.add({severity:"success",summary:"Successful",detail:"Vehicle Deleted",life:3e3})},findIndexByVehicleId(o){let s=-1;for(let u=0;u<this.vehicles.length;u++)if(this.vehicles[u].idExpand===o){s=u;break}return s},openItem(){this.item={},this.itemSubmitted=!1,this.itemDialog=!0},hideDialogItem(){this.itemDialog=!1,this.itemSubmitted=!1},saveItem(){this.item.prmt_item&&this.item.prmt_unit&&this.item.prmt_qty?(this.itemSubmitted=!1,this.items[this.findIndexByItemId(this.item.idExpand)]?this.items[this.findIndexByItemId(this.item.idExpand)]=this.item:(this.item.idExpand=this.createId(),this.items.push(this.item)),this.itemDialog=!1,this.item={}):(this.itemSubmitted=!0,this.$toast.add({severity:"error",summary:"Gagal!",detail:"Silahkan Lengkapi Data!",life:3e3}))},editItem(o){this.item={...o},this.itemDialog=!0},confirmDeleteItem(o){this.item=o,this.deleteItemDialog=!0},deleteItem(){this.items=this.items.filter(o=>o.idExpand!==this.item.idExpand),this.deleteItemDialog=!1,this.item={},this.$toast.add({severity:"success",summary:"Successful",detail:"Item Deleted",life:3e3})},findIndexByItemId(o){let s=-1;for(let u=0;u<this.items.length;u++)if(this.items[u].idExpand===o){s=u;break}return s},createId(){let o="";const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let u=0;u<15;u++)o+=s.charAt(Math.floor(Math.random()*s.length));return o},validateForm(o){return!0},convertToBase64(o){const s=new FileReader;s.onloadend=()=>{const u=s.result;this.images.push({id:o.id,file:u.split(",")})},s.readAsDataURL(o.file)},async getFingerPrint(){return(await(await A.load({monitoring:!1})).get()).visitorId},onResize(){this.showTable=window.innerWidth>=this.lgDeviceWidth},onAddedFile(o){this.convertToBase64(o),this.form.image=this.images,this.$toast.add({severity:"success",summary:"Berhasil!",detail:"Berhasil menambahkan gambar!",life:3e3})},onRemoveFile(o){this.images=this.images.filter(s=>s.id!==o.id),this.form.image=this.images,this.$toast.add({severity:"warn",summary:"Perhatian!",detail:"Menghapus gambar!",life:3e3})},onErrorUpload(o){this.$toast.add({severity:"error",summary:"Gagal!",detail:"Gagal memuat gambar!",life:3e3})}}};const H={class:"grid p-fluid mt-2"},j={class:"col-12"},W={class:"card"},O={class:"card-title grid"},Y=t("h5",{class:"mt-3 mb-0 font-bold text-gray-600"},"Form Baru",-1),Z={class:"grid formgrid"},Q={class:"col-12 mb-2 lg:col-4 lg:mb-0"},X=t("strong",{class:"text-gray-700"},"Tenant Penerbit",-1),$={class:"col-12 mb-2 lg:col-4 lg:mb-0"},ee=t("strong",{class:"text-gray-700"},"Jenis Dokumen",-1),te={key:0,class:"p-invalid"},ie={class:"col-12 mb-2 lg:col-4 lg:mb-0"},se=t("strong",{class:"text-gray-700"},"Tanggal",-1),le={key:0,class:"p-invalid"},oe={class:"grid formgrid"},ne=t("div",{class:"col-12 mb-2 pt-4"},[t("strong",{class:"text-gray-700"},"Pemohon")],-1),re={class:"col-12 lg:col-6 lg:pr-6 grid"},ae={class:"col-12 mt-1 grid"},de=t("div",{class:"col-3 mb-2 pt-2"},"NIK",-1),me={class:"col-9 mb-2"},ce={key:0,class:"p-invalid"},ue={class:"col-12 mt-1 grid"},pe=t("div",{class:"col-3 mb-2 pt-2"},"Nama",-1),he={class:"col-9 mb-2"},_e={key:0,class:"p-invalid"},ve={class:"col-12 mt-1 mb-2 grid"},fe=t("div",{class:"col-3 mb-2 pt-2"},"Perusahaan",-1),ye={class:"col-9 mb-2"},ge={key:0,class:"p-invalid"},be={class:"col-12 lg:col-6 lg:pl-6 grid"},xe={class:"col-12 mt-1 grid"},ke=t("div",{class:"col-3 mb-2 pt-2"},"Departmen",-1),Ve={class:"col-9 mb-2"},we={key:0,class:"p-invalid"},De={class:"col-12 mt-1 grid"},Ce=t("div",{class:"col-3 mb-2 pt-2"},"Jabatan",-1),Ie={class:"col-9 mb-2"},qe={key:0,class:"p-invalid"},Se={class:"col-12 mt-1 grid"},Te=t("div",{class:"col-3 mb-2 pt-2"},"No Handphone",-1),Ue={class:"col-9 mb-2"},Be={key:0,class:"p-invalid"},Ne={class:"grid formgrid"},Ee={class:"col-12 mb-2 pt-4"},Re=t("strong",{class:"text-gray-700 mt-4"},"Kendaraan",-1),ze=t("br",null,null,-1),Pe={key:0,class:"text-red-500"},Je={class:"col-12"},Me=t("span",{class:"p-column-title"},"Nomor Polisi",-1),Fe={class:"text-gray-700"},Ke=t("span",{class:"p-column-title"},"Jenis Kendaraan",-1),Ae={class:"text-gray-700"},Le=t("span",{class:"p-column-title"},"Nama Pengemudi",-1),Ge={class:"text-gray-700"},He=t("span",{class:"p-column-title"},"Nama Penumpang",-1),je={class:"text-gray-700"},We=t("span",{class:"p-column-title"},null,-1),Oe={class:"text-gray-700"},Ye={style:{width:"100%"}},Ze={border:"1"},Qe=t("td",null,"Jenis Kendaraan",-1),Xe=t("td",null,"Nama Pengemudi",-1),$e=t("td",null,"Nama Penumpang",-1),et={class:"mt-2"},tt={class:"grid formgrid"},it={class:"col-12 mb-2 pt-4"},st=t("strong",{class:"text-gray-700 mt-4"},"Barang",-1),lt=t("br",null,null,-1),ot={key:0,class:"text-red-500"},nt={class:"col-12"},rt=t("span",{class:"p-column-title"},"Nama Barang",-1),at={class:"text-gray-700"},dt=t("span",{class:"p-column-title"},"Satuan",-1),mt={class:"text-gray-700"},ct=t("span",{class:"p-column-title"},"Jumlah",-1),ut={class:"text-gray-700"},pt=t("span",{class:"p-column-title"},"Catatan",-1),ht={class:"text-gray-700"},_t={class:""},vt={style:{width:"100%"}},ft={border:"1"},yt=t("td",null,"Satuan",-1),gt=t("td",null,"Jumlah",-1),bt=t("td",null,"Catatan",-1),xt={class:"mt-2"},kt={class:"grid formgrid"},Vt={class:"col-12 pt-4"},wt=t("strong",{class:"text-gray-700"},"Alasan Membawa Barang",-1),Dt={class:"grid formgrid"},Ct={class:"col-12 mb-2 pt-4"},It=t("strong",{class:"text-gray-700"},"Lampiran",-1),qt={class:"grid formgrid"},St={class:"col-12 mb-2 pt-4 grid"},Tt={class:"field"},Ut=t("label",{for:"vhcl_number"},"Nomor Polisi",-1),Bt={key:0,class:"p-invalid"},Nt={class:"field"},Et=t("label",{for:"vhcl_driver"},"Nama Pengemudi",-1),Rt={key:0,class:"p-invalid"},zt={class:"field"},Pt=t("label",{for:"vhcl_type"},"Jenis Kendaraan",-1),Jt={key:0,class:"p-invalid"},Mt={class:"field"},Ft=t("label",{for:"vhcl_pasenger"},"Nama Penumpang",-1),Kt=t("div",{class:"field"},[t("small",{class:"text-gray-500"},[t("i",null," Catatan : Jika penumpang lebih dari satu orang, silahkan isi nama dan pisahkan dengan tanda koma ")])],-1),At={class:"field"},Lt=t("label",{for:"prmt_item"},"Nama Barang",-1),Gt={key:0,class:"p-invalid"},Ht={class:"field"},jt=t("label",{for:"prmt_unit"},"Satuan",-1),Wt={key:0,class:"p-invalid"},Ot={class:"field"},Yt=t("label",{for:"prmt_qty"},"Jumlah",-1),Zt={key:0,class:"p-invalid"},Qt={class:"field"},Xt=t("label",{for:"prmt_note"},"Catatan",-1),$t={class:"flex align-items-center justify-content-center"},ei=t("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1),ti={key:0},ii={class:"flex align-items-center justify-content-center"},si=t("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1),li={key:0};function oi(o,s,u,w,e,d){const m=B,D=R,h=z,C=P,I=J,v=M,k=F,q=V,S=N("DropZone"),g=E;return n(),c("div",H,[t("div",j,[t("div",W,[t("div",O,[Y,l(m,{class:"ml-auto",icon:"pi pi-times",rounded:"",severity:"secondary",outlined:"",text:"",onClick:s[0]||(s[0]=i=>o.$router.push("/permits"))}),l(D)]),t("div",Z,[t("div",Q,[X,l(h,{modelValue:e.tenant,"onUpdate:modelValue":s[1]||(s[1]=i=>e.tenant=i),type:"text",disabled:!0},null,8,["modelValue"])]),t("div",$,[ee,l(C,{modelValue:e.form.prmt_type,"onUpdate:modelValue":s[2]||(s[2]=i=>e.form.prmt_type=i),options:e.documentTypes,optionLabel:"label",placeholder:"-Pilih-",class:_({"p-invalid":e.submitted&&!e.form.prmt_type}),onChange:s[3]||(s[3]=i=>d.getDocNum())},null,8,["modelValue","options","class"]),e.submitted&&!e.form.prmt_type?(n(),c("small",te,"Jenis Dokumen is required.")):r("",!0)]),t("div",ie,[se,l(I,{modelValue:e.form.prmt_request_date,"onUpdate:modelValue":s[4]||(s[4]=i=>e.form.prmt_request_date=i),showIcon:"",class:_({"p-invalid":e.submitted&&!e.form.prmt_request_date})},null,8,["modelValue","class"]),e.submitted&&!e.form.prmt_request_date?(n(),c("small",le,"Tanggal is required.")):r("",!0)])]),t("div",oe,[ne,t("div",re,[t("div",ae,[de,t("div",me,[l(h,{modelValue:e.form.prmt_nik,"onUpdate:modelValue":s[5]||(s[5]=i=>e.form.prmt_nik=i),type:"number",placeholder:"",class:_(["p-inputtext-sm",{"p-invalid":e.submitted&&!e.form.prmt_nik}]),required:"true"},null,8,["modelValue","class"]),e.submitted&&!e.form.prmt_nik?(n(),c("small",ce,"NIK is required.")):r("",!0)])]),t("div",ue,[pe,t("div",he,[l(h,{modelValue:e.form.prmt_name,"onUpdate:modelValue":s[6]||(s[6]=i=>e.form.prmt_name=i),type:"text",placeholder:"",class:_(["p-inputtext-sm",{"p-invalid":e.submitted&&!e.form.prmt_name}]),required:"true"},null,8,["modelValue","class"]),e.submitted&&!e.form.prmt_name?(n(),c("small",_e,"Nama is required.")):r("",!0)])]),t("div",ve,[fe,t("div",ye,[l(h,{modelValue:e.form.prmt_company,"onUpdate:modelValue":s[7]||(s[7]=i=>e.form.prmt_company=i),type:"text",placeholder:"",class:_(["p-inputtext-sm",{"p-invalid":e.submitted&&!e.form.prmt_company}]),required:"true"},null,8,["modelValue","class"]),e.submitted&&!e.form.prmt_company?(n(),c("small",ge,"Perusahaan is required.")):r("",!0)])])]),t("div",be,[t("div",xe,[ke,t("div",Ve,[l(h,{modelValue:e.form.prmt_dept,"onUpdate:modelValue":s[8]||(s[8]=i=>e.form.prmt_dept=i),type:"text",placeholder:"",class:_(["p-inputtext-sm",{"p-invalid":e.submitted&&!e.form.prmt_dept}]),required:"true"},null,8,["modelValue","class"]),e.submitted&&!e.form.prmt_dept?(n(),c("small",we,"Departmen is required.")):r("",!0)])]),t("div",De,[Ce,t("div",Ie,[l(h,{modelValue:e.form.prmt_position,"onUpdate:modelValue":s[9]||(s[9]=i=>e.form.prmt_position=i),type:"text",placeholder:"",class:_(["p-inputtext-sm",{"p-invalid":e.submitted&&!e.form.prmt_position}]),required:"true"},null,8,["modelValue","class"]),e.submitted&&!e.form.prmt_position?(n(),c("small",qe,"Jabatan is required.")):r("",!0)])]),t("div",Se,[Te,t("div",Ue,[l(h,{modelValue:e.form.prmt_phone,"onUpdate:modelValue":s[10]||(s[10]=i=>e.form.prmt_phone=i),type:"text",placeholder:"",class:_(["p-inputtext-sm",{"p-invalid":e.submitted&&!e.form.prmt_phone}]),required:"true"},null,8,["modelValue","class"]),e.submitted&&!e.form.prmt_phone?(n(),c("small",Be,"Handphone is required.")):r("",!0)])])])]),t("div",Ne,[t("div",Ee,[Re,ze,e.submitted&&!e.vehicles.length?(n(),c("small",Pe,"Kendaraan is required.")):r("",!0)]),t("div",Je,[e.vehicles.length?(n(),f(k,{key:0,ref:"dt",expandedRows:e.expandedRows,"onUpdate:expandedRows":s[11]||(s[11]=i=>e.expandedRows=i),value:e.vehicles,"data-key":"idExpand","responsive-layout":"scroll"},{expansion:a(i=>[t("div",null,[t("table",Ye,[t("tr",Ze,[Qe,t("td",null,": "+p(i.data.vhcl_type),1)]),t("tr",null,[Xe,t("td",null,": "+p(i.data.vhcl_driver),1)]),t("tr",null,[$e,t("td",null,": "+p(i.data.vhcl_pasenger),1)])])]),t("div",et,[l(m,{label:"Edit",icon:"pi pi-pencil",severity:"secondary",outlined:"",size:"small",style:{width:"auto"},onClick:y=>d.editVehicle(i.data)},null,8,["onClick"]),l(m,{label:"Hapus",icon:"pi pi-trash",severity:"secondary",outlined:"",size:"small",style:{width:"auto"},class:"ml-2",onClick:y=>d.confirmDeleteVehicle(i.data)},null,8,["onClick"])])]),default:a(()=>[e.showTable?r("",!0):(n(),f(v,{key:0,class:"py-1",expander:"",style:{width:"10px"}})),l(v,{class:"py-1",field:"vhcl_number",header:"Nomor Polisi"},{body:a(i=>[Me,t("strong",Fe,p(i.data.vhcl_number),1)]),_:1}),e.showTable?(n(),f(v,{key:1,class:"py-1",field:"vhcl_type",header:"Jenis Kendaraan"},{body:a(i=>[Ke,t("span",Ae,p(i.data.vhcl_type),1)]),_:1})):r("",!0),e.showTable?(n(),f(v,{key:2,class:"py-1",field:"vhcl_driver",header:"Nama Pengemudi"},{body:a(i=>[Le,t("span",Ge,p(i.data.vhcl_driver),1)]),_:1})):r("",!0),e.showTable?(n(),f(v,{key:3,class:"py-1",field:"vhcl_pasenger",header:"Nama Penumpang"},{body:a(i=>[He,t("span",je,p(i.data.vhcl_pasenger),1)]),_:1})):r("",!0),e.showTable?(n(),f(v,{key:4,class:"py-1",field:"",header:"#"},{body:a(i=>[We,t("span",Oe,[l(m,{label:"Edit",icon:"pi pi-pencil",severity:"secondary",outlined:"",size:"small",style:{width:"40%"},onClick:y=>d.editVehicle(i.data)},null,8,["onClick"]),l(m,{label:"Hapus",icon:"pi pi-trash",severity:"secondary",outlined:"",size:"small",style:{width:"40%"},class:"ml-2",onClick:y=>d.confirmDeleteVehicle(i.data)},null,8,["onClick"])])]),_:1})):r("",!0)]),_:1},8,["expandedRows","value"])):r("",!0),l(m,{label:"Tambah Kendaraan",icon:"pi pi-plus",severity:"secondary",outlined:"",size:"small",onClick:d.openVehicle},null,8,["onClick"])])]),t("div",tt,[t("div",it,[st,lt,e.submitted&&!e.items.length?(n(),c("small",ot,"Barang is required.")):r("",!0)]),t("div",nt,[e.items.length?(n(),f(k,{key:0,ref:"dt",expandedRows:e.itemExpandedRows,"onUpdate:expandedRows":s[12]||(s[12]=i=>e.itemExpandedRows=i),value:e.items,"data-key":"idExpand","responsive-layout":"scroll"},{expansion:a(i=>[t("div",_t,[t("table",vt,[t("tr",ft,[yt,t("td",null,": "+p(i.data.prmt_unit??"-"),1)]),t("tr",null,[gt,t("td",null,": "+p(i.data.prmt_qty??"-"),1)]),t("tr",null,[bt,t("td",null,": "+p(i.data.prmt_note??"-"),1)])])]),t("div",xt,[l(m,{label:"Edit",icon:"pi pi-pencil",severity:"secondary",outlined:"",size:"small",style:{width:"auto"},onClick:y=>d.editItem(i.data)},null,8,["onClick"]),l(m,{label:"Hapus",icon:"pi pi-trash",severity:"secondary",outlined:"",size:"small",style:{width:"auto"},class:"ml-2",onClick:y=>d.confirmDeleteItem(i.data)},null,8,["onClick"])])]),default:a(()=>[e.showTable?r("",!0):(n(),f(v,{key:0,class:"py-1",expander:"",style:{width:"10px"}})),l(v,{class:"py-1",field:"prmt_item",header:"Nama Barang"},{body:a(i=>[rt,t("strong",at,p(i.data.prmt_item),1)]),_:1}),e.showTable?(n(),f(v,{key:1,class:"py-1",field:"prmt_unit",header:"Satuan"},{body:a(i=>[dt,t("span",mt,p(i.data.prmt_unit),1)]),_:1})):r("",!0),e.showTable?(n(),f(v,{key:2,class:"py-1",field:"prmt_qty",header:"Jumlah"},{body:a(i=>[ct,t("span",ut,p(i.data.prmt_qty),1)]),_:1})):r("",!0),e.showTable?(n(),f(v,{key:3,class:"py-1",field:"prmt_note",header:"Catatan"},{body:a(i=>[pt,t("span",ht,p(i.data.prmt_note),1)]),_:1})):r("",!0),e.showTable?(n(),f(v,{key:4,class:"py-1",header:"#"},{body:a(i=>[l(m,{label:"Edit",icon:"pi pi-pencil",severity:"secondary",outlined:"",size:"small",style:{width:"auto"},onClick:y=>d.editItem(i.data)},null,8,["onClick"]),l(m,{label:"Hapus",icon:"pi pi-trash",severity:"secondary",outlined:"",size:"small",style:{width:"auto"},class:"ml-2",onClick:y=>d.confirmDeleteItem(i.data)},null,8,["onClick"])]),_:1})):r("",!0)]),_:1},8,["expandedRows","value"])):r("",!0),l(m,{label:"Tambah Barang",icon:"pi pi-plus",severity:"secondary",outlined:"",size:"small",onClick:d.openItem},null,8,["onClick"])])]),t("div",kt,[t("div",Vt,[wt,l(q,{modelValue:e.form.prmt_note,"onUpdate:modelValue":s[13]||(s[13]=i=>e.form.prmt_note=i),type:"text",placeholder:"",rows:"3"},null,8,["modelValue"])])]),t("div",Dt,[t("div",Ct,[It,l(S,{"max-file-size":2e6,uploadOnDrop:!0,multipleUpload:!0,parallelUpload:3,acceptedFiles:["png","jpg","jpeg","heic"],onAddedFile:s[14]||(s[14]=i=>d.onAddedFile(i)),onRemovedFile:s[15]||(s[15]=i=>d.onRemoveFile(i)),onErrorUpload:s[16]||(s[16]=i=>d.onErrorUpload(i))})])]),t("div",qt,[t("div",St,[l(m,{class:"ml-auto",label:"Simpan",icon:"pi pi-save",severity:"success",style:{width:"auto"},onClick:s[17]||(s[17]=i=>d.savePermits())})])])])]),l(g,{visible:e.vehicleDialog,"onUpdate:visible":s[22]||(s[22]=i=>e.vehicleDialog=i),header:"Detail Kendaraan",modal:!0,class:"p-fluid mx-3"},{footer:a(()=>[l(m,{label:"Cancel",icon:"pi pi-times",class:"p-button-text my-2",onClick:d.hideDialog},null,8,["onClick"]),l(m,{label:"Save",icon:"pi pi-check",class:"p-button-text my-2",onClick:d.saveVehicle},null,8,["onClick"])]),default:a(()=>[t("div",Tt,[Ut,l(h,{id:"vhcl_number",modelValue:e.vehicle.vhcl_number,"onUpdate:modelValue":s[18]||(s[18]=i=>e.vehicle.vhcl_number=i),modelModifiers:{trim:!0},required:"true",autofocus:"",class:_({"p-invalid":e.vhclSubmitted&&!e.vehicle.vhcl_number})},null,8,["modelValue","class"]),e.vhclSubmitted&&!e.vehicle.vhcl_number?(n(),c("small",Bt,"Nomor Polisi is required.")):r("",!0)]),t("div",Nt,[Et,l(h,{id:"vhcl_driver",modelValue:e.vehicle.vhcl_driver,"onUpdate:modelValue":s[19]||(s[19]=i=>e.vehicle.vhcl_driver=i),modelModifiers:{trim:!0},required:"true",autofocus:"",class:_({"p-invalid":e.vhclSubmitted&&!e.vehicle.vhcl_driver})},null,8,["modelValue","class"]),e.vhclSubmitted&&!e.vehicle.vhcl_driver?(n(),c("small",Rt,"Nama Pengemudi is required.")):r("",!0)]),t("div",zt,[Pt,l(h,{id:"vhcl_type",modelValue:e.vehicle.vhcl_type,"onUpdate:modelValue":s[20]||(s[20]=i=>e.vehicle.vhcl_type=i),modelModifiers:{trim:!0},required:"true",autofocus:"",class:_({"p-invalid":e.vhclSubmitted&&!e.vehicle.vhcl_type})},null,8,["modelValue","class"]),e.vhclSubmitted&&!e.vehicle.vhcl_type?(n(),c("small",Jt,"Jenis Kendaraan is required.")):r("",!0)]),t("div",Mt,[Ft,l(h,{id:"vhcl_pasenger",modelValue:e.vehicle.vhcl_pasenger,"onUpdate:modelValue":s[21]||(s[21]=i=>e.vehicle.vhcl_pasenger=i),modelModifiers:{trim:!0},required:"true",autofocus:""},null,8,["modelValue"])]),Kt]),_:1},8,["visible"]),l(g,{visible:e.itemDialog,"onUpdate:visible":s[27]||(s[27]=i=>e.itemDialog=i),header:"Detail Barang",modal:!0,class:"p-fluid mx-3"},{footer:a(()=>[l(m,{label:"Cancel",icon:"pi pi-times",class:"p-button-text my-2",onClick:d.hideDialogItem},null,8,["onClick"]),l(m,{label:"Save",icon:"pi pi-check",class:"p-button-text my-2",onClick:d.saveItem},null,8,["onClick"])]),default:a(()=>[t("div",At,[Lt,l(h,{id:"prmt_item",modelValue:e.item.prmt_item,"onUpdate:modelValue":s[23]||(s[23]=i=>e.item.prmt_item=i),modelModifiers:{trim:!0},required:"true",autofocus:"",class:_({"p-invalid":e.itemSubmitted&&!e.item.prmt_item})},null,8,["modelValue","class"]),e.itemSubmitted&&!e.item.prmt_item?(n(),c("small",Gt,"Nama Barang is required.")):r("",!0)]),t("div",Ht,[jt,l(h,{id:"prmt_unit",modelValue:e.item.prmt_unit,"onUpdate:modelValue":s[24]||(s[24]=i=>e.item.prmt_unit=i),modelModifiers:{trim:!0},required:"true",autofocus:"",class:_({"p-invalid":e.itemSubmitted&&!e.item.prmt_unit})},null,8,["modelValue","class"]),e.itemSubmitted&&!e.item.prmt_unit?(n(),c("small",Wt,"Satuan is required.")):r("",!0)]),t("div",Ot,[Yt,l(h,{id:"prmt_qty",modelValue:e.item.prmt_qty,"onUpdate:modelValue":s[25]||(s[25]=i=>e.item.prmt_qty=i),modelModifiers:{trim:!0},type:"number",required:"true",autofocus:"",class:_({"p-invalid":e.itemSubmitted&&!e.item.prmt_qty})},null,8,["modelValue","class"]),e.itemSubmitted&&!e.item.prmt_qty?(n(),c("small",Zt,"Jumlah is required.")):r("",!0)]),t("div",Qt,[Xt,l(h,{id:"prmt_note",modelValue:e.item.prmt_note,"onUpdate:modelValue":s[26]||(s[26]=i=>e.item.prmt_note=i),modelModifiers:{trim:!0},required:"true",autofocus:""},null,8,["modelValue"])])]),_:1},8,["visible"]),l(g,{visible:e.deleteVehicleDialog,"onUpdate:visible":s[29]||(s[29]=i=>e.deleteVehicleDialog=i),class:"mx-3",header:"Confirm",modal:!0},{footer:a(()=>[l(m,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:s[28]||(s[28]=i=>e.deleteVehicleDialog=!1)}),l(m,{label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:d.deleteVehicle},null,8,["onClick"])]),default:a(()=>[t("div",$t,[ei,e.vehicle?(n(),c("span",ti,[b("Are you sure you want to delete "),t("b",null,p(e.vehicle.vhcl_number),1),b("?")])):r("",!0)])]),_:1},8,["visible"]),l(g,{visible:e.deleteItemDialog,"onUpdate:visible":s[31]||(s[31]=i=>e.deleteItemDialog=i),class:"mx-3",header:"Confirm",modal:!0},{footer:a(()=>[l(m,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:s[30]||(s[30]=i=>e.deleteItemDialog=!1)}),l(m,{label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:d.deleteItem},null,8,["onClick"])]),default:a(()=>[t("div",ii,[si,e.item?(n(),c("span",li,[b("Are you sure you want to delete "),t("b",null,p(e.item.prmt_item),1),b("?")])):r("",!0)])]),_:1},8,["visible"])])}const Ei=L(G,[["render",oi]]);export{Ei as default};
