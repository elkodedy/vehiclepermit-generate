import P from"./divider.esm.ce6aa10d.js";import{V as R,b as c,j as t,e as s,w as a,I as T,o as r,t as d,g as _,k as m,f as h,B as b,ah as U,ai as N,aj as z,s as L}from"./entry.497c887e.js";import I from"./inputtext.esm.ea6b8c43.js";import j from"./column.esm.01b3d724.js";import B from"./datatable.esm.93d7e05d.js";import E from"./textarea.esm.00ce7749.js";import{s as q}from"./dropdown.esm.83727868.js";import{_ as F}from"./client-only.e87d2344.js";import A from"./radiobutton.esm.3da0a69d.js";import M from"./inputnumber.esm.ebcc6b0b.js";import{_ as O}from"./_plugin-vue_export-helper.c27b6911.js";import"./basecomponent.esm.2753bf63.js";import"./entry.b871eb40.js";import"./paginator.esm.66ac13b3.js";import"./index.esm.edc728e7.js";import"./index.esm.57cbd0e4.js";import"./index.esm.b3a9a1b0.js";import"./virtualscroller.esm.484e3a2b.js";import"./index.esm.b0677a42.js";import"./index.esm.48d1c281.js";import"./index.esm.1c7c6a9d.js";import"./index.esm.63a09b8a.js";import"./index.esm.7663f7f9.js";import"./index.esm.97ea7256.js";class W{getPermits(){return fetch("/data/permits.json").then(i=>i.json()).then(i=>i.data)}}const J={data(){return{permits:null,permitDialog:!1,deletePermitDialog:!1,deletePermitsDialog:!1,permit:{},selectedPermits:null,filters:{},statuses:[{label:"Approved",value:"approved"},{label:"Pending",value:"pending"},{label:"Rejected",value:"rejected"},{label:"Closed",value:"closed"}],expandedRows:null,showTable:!1,lgDeviceWidth:1024}},permitService:null,created(){this.permitService=new W,this.initFilters()},mounted(){this.permitService.getPermits().then(n=>{this.permits=n}),this.showTable=window.innerWidth>=this.lgDeviceWidth,this.$nextTick(()=>{window.addEventListener("resize",this.onResize)})},beforeDestroy(){window.removeEventListener("resize",this.onResize)},methods:{initFilters(){this.filters={global:{value:null,matchMode:R.CONTAINS}}},onResize(){this.showTable=window.innerWidth>=this.lgDeviceWidth}}};const l=n=>(U("data-v-32cd6d73"),n=n(),N(),n),Y={class:"grid mt-2"},K={class:"col-12"},Q={class:"card"},G={class:"card-title"},H=l(()=>t("h5",{class:"mb-3"}," Dokumen Izin Barang Masuk/Keluar ",-1)),X={class:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},Z={class:"flex"},$={class:"col-5"},ee={class:"col-7"},te={class:"p-input-icon-left py-0"},oe=l(()=>t("i",{class:"pi pi-search"},null,-1)),ie=l(()=>t("span",{class:"p-column-title"},"Nomor Dokumen",-1)),se=l(()=>t("br",null,null,-1)),le=l(()=>t("span",{class:"p-column-title"},"Jenis",-1)),ne=l(()=>t("span",{class:"p-column-title"},"Nama Pemohon",-1)),ae=l(()=>t("span",{class:"p-column-title"},"Perusahaan Pemohon",-1)),re=l(()=>t("span",{class:"p-column-title"},"Dibuat Oleh",-1)),de=l(()=>t("span",{class:"p-column-title"},"Status",-1)),me={class:"pl-5"},pe={style:{width:"100%"}},ce=l(()=>t("th",null,"Jenis",-1)),ue=l(()=>t("th",null,"Pemohon",-1)),_e=l(()=>t("th",null,"Perusahaan",-1)),he=l(()=>t("th",null,"Dibuat Oleh",-1)),be={colspan:"2"},ye=["src","alt"],ve={class:"field"},fe=l(()=>t("label",{for:"name"},"Name",-1)),ge={key:0,class:"p-invalid"},we={class:"field"},ke=l(()=>t("label",{for:"description"},"Description",-1)),Ve={class:"field"},Ce=l(()=>t("label",{for:"permitStatus",class:"mb-3"},"Inventory Status",-1)),De={key:0},xe={key:1},Se={key:2},Pe={class:"field"},Re=l(()=>t("label",{class:"mb-3"},"Category",-1)),Te={class:"formgrid grid"},Ue={class:"field-radiobutton col-6"},Ne=l(()=>t("label",{for:"category1"},"Accessories",-1)),ze={class:"field-radiobutton col-6"},Le=l(()=>t("label",{for:"category2"},"Clothing",-1)),Ie={class:"field-radiobutton col-6"},je=l(()=>t("label",{for:"category3"},"Electronics",-1)),Be={class:"field-radiobutton col-6"},Ee=l(()=>t("label",{for:"category4"},"Fitness",-1)),qe={class:"formgrid grid"},Fe={class:"field col"},Ae=l(()=>t("label",{for:"price"},"Price",-1)),Me={class:"field col"},Oe=l(()=>t("label",{for:"quantity"},"Quantity",-1)),We={class:"flex align-items-center justify-content-center"},Je=l(()=>t("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1)),Ye={key:0},Ke={class:"flex align-items-center justify-content-center"},Qe=l(()=>t("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1)),Ge={key:0};function He(n,i,Xe,Ze,o,$e){const w=P,k=z,p=L,f=I,u=j,V=B,C=E,D=q,x=F,y=A,g=M,v=T;return r(),c("div",Y,[t("div",K,[t("div",Q,[t("div",G,[H,s(w)]),s(k),s(V,{ref:"dt",selection:o.selectedPermits,"onUpdate:selection":i[4]||(i[4]=e=>o.selectedPermits=e),expandedRows:o.expandedRows,"onUpdate:expandedRows":i[5]||(i[5]=e=>o.expandedRows=e),value:o.permits,"data-key":"id",paginator:!0,rows:10,filters:o.filters,"paginator-template":"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown","rows-per-page-options":[5,10,25],"current-page-report-template":"Showing {first} to {last} of {totalRecords} permits","responsive-layout":"scroll",onRowExpand:n.onRowExpand,onRowCollapse:n.onRowCollapse},{header:a(()=>[t("div",X,[t("div",Z,[t("div",$,[s(p,{label:"Form Baru",icon:"pi pi-plus",severity:"secondary",outlined:"",size:"small",style:{width:"100%"},onClick:i[0]||(i[0]=e=>n.$router.push("/apps/permit-create"))})]),t("div",ee,[t("span",te,[oe,s(f,{modelValue:o.filters.global.value,"onUpdate:modelValue":i[1]||(i[1]=e=>o.filters.global.value=e),placeholder:"Search...",class:"py-1",style:{width:"100%"}},null,8,["modelValue"])])])])])]),expansion:a(e=>[t("div",me,[t("table",pe,[t("tr",null,[ce,t("td",null,": "+d(e.data.type),1)]),t("tr",null,[ue,t("td",null,": "+d(e.data.name),1)]),t("tr",null,[_e,t("td",null,": "+d(e.data.company),1)]),t("tr",null,[he,t("td",null,": "+d(e.data.created_by),1)]),t("tr",null,[t("td",be,[s(p,{label:"Detail",icon:"pi pi-pencil",class:"py-2 mt-2 w-100 detail-button",size:"small",severity:"secondary",outlined:"",onClick:i[3]||(i[3]=S=>n.$router.push("/apps/permit-details"))})])])])])]),default:a(()=>[o.showTable?m("",!0):(r(),_(u,{key:0,expander:"",class:"px-1",style:{width:"10px"}})),s(u,{field:"document_number",header:"Nomor Dokumen",sortable:!0},{body:a(e=>[ie,h(" "+d(e.data.document_number)+" ",1),se,o.showTable?m("",!0):(r(),c("span",{key:0,class:b(`permit-badge status-${e.data.permitStatus?e.data.permitStatus.toLowerCase():""}`)},d(e.data.permitStatus),3))]),_:1}),o.showTable?(r(),_(u,{key:1,field:"type",header:"Jenis",sortable:!0},{body:a(e=>[le,h(" "+d(e.data.type),1)]),_:1})):m("",!0),o.showTable?(r(),_(u,{key:2,field:"name",header:"Nama Pemohon",sortable:!0},{body:a(e=>[ne,h(" "+d(e.data.name),1)]),_:1})):m("",!0),o.showTable?(r(),_(u,{key:3,field:"company",header:"Perusahaan Pemohon",sortable:!0},{body:a(e=>[ae,h(" "+d(e.data.company),1)]),_:1})):m("",!0),o.showTable?(r(),_(u,{key:4,field:"created_by",header:"Dibuat Oleh",sortable:!0},{body:a(e=>[re,h(" "+d(e.data.created_by),1)]),_:1})):m("",!0),o.showTable?(r(),_(u,{key:5,field:"permitStatus",header:"Status",sortable:!0},{body:a(e=>[de,t("span",{class:b(`permit-badge status-${e.data.permitStatus?e.data.permitStatus.toLowerCase():""}`)},d(e.data.permitStatus),3)]),_:1})):m("",!0),o.showTable?(r(),_(u,{key:6},{body:a(e=>[s(p,{label:"Detail",icon:"pi pi-pencil",class:"mr-2 detail-button",size:"small",severity:"secondary",outlined:"",onClick:i[2]||(i[2]=S=>n.$router.push("/apps/permit-details"))})]),_:1})):m("",!0)]),_:1},8,["selection","expandedRows","value","filters","onRowExpand","onRowCollapse"]),s(v,{visible:o.permitDialog,"onUpdate:visible":i[15]||(i[15]=e=>o.permitDialog=e),style:{width:"450px"},header:"Permit Details",modal:!0,class:"p-fluid"},{footer:a(()=>[s(p,{label:"Cancel",icon:"pi pi-times",class:"p-button-text",onClick:n.hideDialog},null,8,["onClick"]),s(p,{label:"Save",icon:"pi pi-check",class:"p-button-text",onClick:n.savePermit},null,8,["onClick"])]),default:a(()=>[o.permit.image?(r(),c("img",{key:0,src:`/images/permit/${o.permit.image}`,alt:o.permit.image,width:"150",class:"mt-0 mx-auto mb-5 block shadow-2"},null,8,ye)):m("",!0),t("div",ve,[fe,s(f,{id:"name",modelValue:o.permit.name,"onUpdate:modelValue":i[6]||(i[6]=e=>o.permit.name=e),modelModifiers:{trim:!0},required:"true",autofocus:"",class:b({"p-invalid":n.submitted&&!o.permit.name})},null,8,["modelValue","class"]),n.submitted&&!o.permit.name?(r(),c("small",ge,"Name is required.")):m("",!0)]),t("div",we,[ke,s(C,{id:"description",modelValue:o.permit.description,"onUpdate:modelValue":i[7]||(i[7]=e=>o.permit.description=e),required:"true",rows:"3",cols:"20"},null,8,["modelValue"])]),t("div",Ve,[Ce,s(x,null,{default:a(()=>[s(D,{id:"permitStatus",modelValue:o.permit.permitStatus,"onUpdate:modelValue":i[8]||(i[8]=e=>o.permit.permitStatus=e),options:o.statuses,"option-label":"label",placeholder:"Select a Status"},{value:a(e=>[e.value&&e.value.value?(r(),c("div",De,[t("span",{class:b(`permit-badge status-${e.value.value}`)},d(e.value.label),3)])):e.value&&!e.value.value?(r(),c("div",xe,[t("span",{class:b(`permit-badge status-${e.value.toLowerCase()}`)},d(e.value),3)])):(r(),c("span",Se,d(e.placeholder),1))]),_:1},8,["modelValue","options"])]),_:1})]),t("div",Pe,[Re,t("div",Te,[t("div",Ue,[s(y,{id:"category1",modelValue:o.permit.category,"onUpdate:modelValue":i[9]||(i[9]=e=>o.permit.category=e),name:"category",value:"Accessories"},null,8,["modelValue"]),Ne]),t("div",ze,[s(y,{id:"category2",modelValue:o.permit.category,"onUpdate:modelValue":i[10]||(i[10]=e=>o.permit.category=e),name:"category",value:"Clothing"},null,8,["modelValue"]),Le]),t("div",Ie,[s(y,{id:"category3",modelValue:o.permit.category,"onUpdate:modelValue":i[11]||(i[11]=e=>o.permit.category=e),name:"category",value:"Electronics"},null,8,["modelValue"]),je]),t("div",Be,[s(y,{id:"category4",modelValue:o.permit.category,"onUpdate:modelValue":i[12]||(i[12]=e=>o.permit.category=e),name:"category",value:"Fitness"},null,8,["modelValue"]),Ee])])]),t("div",qe,[t("div",Fe,[Ae,s(g,{id:"price",modelValue:o.permit.price,"onUpdate:modelValue":i[13]||(i[13]=e=>o.permit.price=e),mode:"currency",currency:"USD",locale:"en-US"},null,8,["modelValue"])]),t("div",Me,[Oe,s(g,{id:"quantity",modelValue:o.permit.quantity,"onUpdate:modelValue":i[14]||(i[14]=e=>o.permit.quantity=e),integeronly:""},null,8,["modelValue"])])])]),_:1},8,["visible"]),s(v,{visible:o.deletePermitDialog,"onUpdate:visible":i[17]||(i[17]=e=>o.deletePermitDialog=e),style:{width:"450px"},header:"Confirm",modal:!0},{footer:a(()=>[s(p,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:i[16]||(i[16]=e=>o.deletePermitDialog=!1)}),s(p,{label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:n.deletePermit},null,8,["onClick"])]),default:a(()=>[t("div",We,[Je,o.permit?(r(),c("span",Ye,[h("Are you sure you want to delete "),t("b",null,d(o.permit.name),1),h("?")])):m("",!0)])]),_:1},8,["visible"]),s(v,{visible:o.deletePermitsDialog,"onUpdate:visible":i[19]||(i[19]=e=>o.deletePermitsDialog=e),style:{width:"450px"},header:"Confirm",modal:!0},{footer:a(()=>[s(p,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:i[18]||(i[18]=e=>o.deletePermitsDialog=!1)}),s(p,{label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:n.deleteSelectedPermits},null,8,["onClick"])]),default:a(()=>[t("div",Ke,[Qe,o.permit?(r(),c("span",Ge,"Are you sure you want to delete the selected permits?")):m("",!0)])]),_:1},8,["visible"])])])])}const Ct=O(J,[["render",He],["__scopeId","data-v-32cd6d73"]]);export{Ct as default};
