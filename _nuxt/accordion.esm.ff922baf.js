import{s as m}from"./basecomponent.esm.59535474.js";import{s as v}from"./index.esm.2c99e938.js";import{s as y}from"./index.esm.51fd65cb.js";import{U as f,D as l,R as A,o as c,b as h,F as x,i as I,m as o,j as g,g as p,r as u,t as C,k as b,e as P,w as E,l as _,v as H,T as k}from"./entry.b43c92c6.js";import"./entry.4b682d46.js";var w={name:"Accordion",extends:m,emits:["update:activeIndex","tab-open","tab-close","tab-click"],props:{multiple:{type:Boolean,default:!1},activeIndex:{type:[Number,Array],default:null},lazy:{type:Boolean,default:!1},expandIcon:{type:String,default:void 0},collapseIcon:{type:String,default:void 0},tabindex:{type:Number,default:0},selectOnFocus:{type:Boolean,default:!1}},data(){return{id:this.$attrs.id,d_activeIndex:this.activeIndex}},watch:{"$attrs.id":function(e){this.id=e||f()},activeIndex(e){this.d_activeIndex=e}},mounted(){this.id=this.id||f()},methods:{isAccordionTab(e){return e.type.name==="AccordionTab"},isTabActive(e){return this.multiple?this.d_activeIndex&&this.d_activeIndex.includes(e):this.d_activeIndex===e},getTabProp(e,t){return e.props?e.props[t]:void 0},getKey(e,t){return this.getTabProp(e,"header")||t},getTabHeaderActionId(e){return`${this.id}_${e}_header_action`},getTabContentId(e){return`${this.id}_${e}_content`},getTabPT(e,t){return this.ptmo(this.getTabProp(e,"pt"),t,{props:e.props,parent:{props:this.$props,state:this.$data}})},onTabClick(e,t,a){this.changeActiveIndex(e,t,a),this.$emit("tab-click",{originalEvent:e,index:a})},onTabKeyDown(e,t,a){switch(e.code){case"ArrowDown":this.onTabArrowDownKey(e);break;case"ArrowUp":this.onTabArrowUpKey(e);break;case"Home":this.onTabHomeKey(e);break;case"End":this.onTabEndKey(e);break;case"Enter":case"Space":this.onTabEnterKey(e,t,a);break}},onTabArrowDownKey(e){const t=this.findNextHeaderAction(e.target.parentElement.parentElement);t?this.changeFocusedTab(e,t):this.onTabHomeKey(e),e.preventDefault()},onTabArrowUpKey(e){const t=this.findPrevHeaderAction(e.target.parentElement.parentElement);t?this.changeFocusedTab(e,t):this.onTabEndKey(e),e.preventDefault()},onTabHomeKey(e){const t=this.findFirstHeaderAction();this.changeFocusedTab(e,t),e.preventDefault()},onTabEndKey(e){const t=this.findLastHeaderAction();this.changeFocusedTab(e,t),e.preventDefault()},onTabEnterKey(e,t,a){this.changeActiveIndex(e,t,a),e.preventDefault()},findNextHeaderAction(e,t=!1){const a=t?e:e.nextElementSibling,r=l.findSingle(a,".p-accordion-header");return r?l.hasClass(r,"p-disabled")?this.findNextHeaderAction(r.parentElement):l.findSingle(r,".p-accordion-header-action"):null},findPrevHeaderAction(e,t=!1){const a=t?e:e.previousElementSibling,r=l.findSingle(a,".p-accordion-header");return r?l.hasClass(r,"p-disabled")?this.findPrevHeaderAction(r.parentElement):l.findSingle(r,".p-accordion-header-action"):null},findFirstHeaderAction(){return this.findNextHeaderAction(this.$el.firstElementChild,!0)},findLastHeaderAction(){return this.findPrevHeaderAction(this.$el.lastElementChild,!0)},changeActiveIndex(e,t,a){if(!this.getTabProp(t,"disabled")){const r=this.isTabActive(a),s=r?"tab-close":"tab-open";this.multiple?r?this.d_activeIndex=this.d_activeIndex.filter(n=>n!==a):this.d_activeIndex?this.d_activeIndex.push(a):this.d_activeIndex=[a]:this.d_activeIndex=this.d_activeIndex===a?null:a,this.$emit("update:activeIndex",this.d_activeIndex),this.$emit(s,{originalEvent:e,index:a})}},changeFocusedTab(e,t){if(t&&(l.focus(t),this.selectOnFocus)){const a=parseInt(t.parentElement.parentElement.dataset.index,10),r=this.tabs[a];this.changeActiveIndex(e,r,a)}},getTabClass(e){return["p-accordion-tab",{"p-accordion-tab-active":this.isTabActive(e)}]},getTabHeaderClass(e,t){return["p-accordion-header",this.getTabProp(e,"headerClass"),{"p-highlight":this.isTabActive(t),"p-disabled":this.getTabProp(e,"disabled")}]},getTabContentClass(e){return["p-toggleable-content",this.getTabProp(e,"contentClass")]}},computed:{tabs(){return this.$slots.default().reduce((e,t)=>(this.isAccordionTab(t)?e.push(t):t.children&&t.children instanceof Array&&t.children.forEach(a=>{this.isAccordionTab(a)&&e.push(a)}),e),[])}},components:{ChevronDownIcon:v,ChevronRightIcon:y},directives:{ripple:A}};const K=["data-index"],D=["id","tabindex","aria-disabled","aria-expanded","aria-controls","onClick","onKeydown"],S=["id","aria-labelledby"];function N(e,t,a,r,s,n){return c(),h("div",o({class:"p-accordion p-component"},e.ptm("root")),[(c(!0),h(x,null,I(n.tabs,(i,d)=>(c(),h("div",o({key:n.getKey(i,d),class:n.getTabClass(d),"data-index":d},n.getTabPT(i,"root")),[g("div",o({style:n.getTabProp(i,"headerStyle"),class:n.getTabHeaderClass(i,d)},{...n.getTabProp(i,"headerProps"),...n.getTabPT(i,"header")}),[g("a",o({id:n.getTabHeaderActionId(d),class:"p-accordion-header-link p-accordion-header-action",tabindex:n.getTabProp(i,"disabled")?-1:a.tabindex,role:"button","aria-disabled":n.getTabProp(i,"disabled"),"aria-expanded":n.isTabActive(d),"aria-controls":n.getTabContentId(d),onClick:T=>n.onTabClick(T,i,d),onKeydown:T=>n.onTabKeyDown(T,i,d)},{...n.getTabProp(i,"headeractionprops"),...n.getTabPT(i,"headeraction")}),[i.children&&i.children.headericon?(c(),p(u(i.children.headericon),{key:0,isTabActive:n.isTabActive(d),index:d},null,8,["isTabActive","index"])):n.isTabActive(d)?(c(),p(u(a.collapseIcon?"span":"ChevronDownIcon"),o({key:1,class:["p-accordion-toggle-icon",a.collapseIcon],"aria-hidden":"true"},n.getTabPT(i,"headericon")),null,16,["class"])):(c(),p(u(a.expandIcon?"span":"ChevronRightIcon"),o({key:2,class:["p-accordion-toggle-icon",a.expandIcon],"aria-hidden":"true"},n.getTabPT(i,"headericon")),null,16,["class"])),i.props&&i.props.header?(c(),h("span",o({key:3,class:"p-accordion-header-text"},n.getTabPT(i,"headertitle")),C(i.props.header),17)):b("",!0),i.children&&i.children.header?(c(),p(u(i.children.header),{key:4})):b("",!0)],16,D)],16),P(k,{name:"p-toggleable-content"},{default:E(()=>[!a.lazy||n.isTabActive(d)?_((c(),h("div",o({key:0,id:n.getTabContentId(d),style:n.getTabProp(i,"contentStyle"),class:n.getTabContentClass(i),role:"region","aria-labelledby":n.getTabHeaderActionId(d)},{...n.getTabProp(i,"contentProps"),...n.getTabPT(i,"toggleablecontent")}),[g("div",o({class:"p-accordion-content"},n.getTabPT(i,"content")),[(c(),p(u(i)))],16)],16,S)),[[H,a.lazy?!0:n.isTabActive(d)]]):b("",!0)]),_:2},1024)],16,K))),128))],16)}function F(e,t){t===void 0&&(t={});var a=t.insertAt;if(!(!e||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",a==="top"&&r.firstChild?r.insertBefore(s,r.firstChild):r.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}var B=`
.p-accordion-header-action {
    cursor: pointer;
    display: flex;
    align-items: center;
    user-select: none;
    position: relative;
    text-decoration: none;
}
.p-accordion-header-action:focus {
    z-index: 1;
}
.p-accordion-header-text {
    line-height: 1;
}
`;F(B);w.render=N;export{w as default};
