import{s as r}from"./basecomponent.esm.482e346f.js";import{o as i,b as s,n as l,k as d,m as c}from"./entry.b9153a06.js";import"./entry.7291cd7f.js";var a={name:"DeferredContent",extends:r,emits:["load"],data(){return{loaded:!1}},mounted(){this.loaded||(this.shouldLoad()?this.load():this.bindScrollListener())},beforeUnmount(){this.unbindScrollListener()},methods:{bindScrollListener(){this.documentScrollListener=()=>{this.shouldLoad()&&(this.load(),this.unbindScrollListener())},window.addEventListener("scroll",this.documentScrollListener)},unbindScrollListener(){this.documentScrollListener&&(window.removeEventListener("scroll",this.documentScrollListener),this.documentScrollListener=null)},shouldLoad(){if(this.loaded)return!1;{const e=this.$refs.container.getBoundingClientRect();return document.documentElement.clientHeight>=e.top}},load(e){this.loaded=!0,this.$emit("load",e)}}};function m(e,t,o,u,n,h){return i(),s("div",c({ref:"container"},e.ptm("root")),[n.loaded?l(e.$slots,"default",{key:0}):d("",!0)],16)}a.render=m;export{a as default};
