import I from"./divider.esm.f9b369be.js";import T from"./inputtext.esm.5c0cdec0.js";import{s as U}from"./dropdown.esm.2e2da269.js";import B from"./calendar.esm.79f5f485.js";import S from"./column.esm.01b3d724.js";import{b as _,j as e,e as l,g as v,w as n,k as a,s as q,I as z,o,t as m,B as b,f as g,z as R}from"./entry.b43c92c6.js";import P from"./datatable.esm.13eaee02.js";import k from"./textarea.esm.d8399314.js";import{_ as J}from"./_plugin-vue_export-helper.c27b6911.js";import"./basecomponent.esm.59535474.js";import"./entry.4b682d46.js";import"./index.esm.2c99e938.js";import"./virtualscroller.esm.000d59bf.js";import"./index.esm.327347a0.js";import"./index.esm.51fd65cb.js";import"./index.esm.b2cc2b04.js";import"./paginator.esm.63312315.js";import"./index.esm.d4ec6485.js";import"./inputnumber.esm.1464a017.js";import"./index.esm.c115113b.js";import"./index.esm.eec300d9.js";import"./index.esm.db3af8d3.js";import"./index.esm.0c14803b.js";import"./index.esm.215330f1.js";import"./index.esm.7571de83.js";const K={components:{Textarea:k},data(){return{date:null,documentType:null,documentTypes:["Barang Masuk","Barang Keluar"],vehicles:[],vehicle:{},vehicleDialog:!1,deleteVehicleDialog:!1,submitted:!1,expandedRows:null,items:[],item:{},itemDialog:!1,deleteItemDialog:!1,itemSubmitted:!1,itemExpandedRows:null,showTable:!1,lgDeviceWidth:1024}},created(){},mounted(){this.showTable=window.innerWidth>=this.lgDeviceWidth,this.$nextTick(()=>{window.addEventListener("resize",this.onResize)})},beforeDestroy(){window.removeEventListener("resize",this.onResize)},methods:{onResize(){this.showTable=window.innerWidth>=this.lgDeviceWidth},openVehicle(){this.vehicles.length<5?(this.vehicle={},this.submitted=!1,this.vehicleDialog=!0):this.$toast.add({severity:"warn",summary:"Perhatian",detail:"Data Kendaraan Maksimal 5",life:3e3})},hideDialog(){this.vehicleDialog=!1,this.submitted=!1},saveVehicle(){this.submitted=!0,this.vehicles[this.findIndexByPoliceNumber(this.vehicle.police_number)]?this.vehicles[this.findIndexByPoliceNumber(this.vehicle.police_number)]=this.vehicle:this.vehicles.push(this.vehicle),this.vehicleDialog=!1,this.vehicle={}},editVehicle(d){this.vehicle={...d},this.vehicleDialog=!0},confirmDeleteVehicle(d){this.vehicle=d,this.deleteVehicleDialog=!0},deleteVehicle(){this.vehicles=this.vehicles.filter(d=>d.police_number!==this.vehicle.police_number),this.deleteVehicleDialog=!1,this.vehicle={},this.$toast.add({severity:"success",summary:"Successful",detail:"Vehicle Deleted",life:3e3})},findIndexByPoliceNumber(d){let s=-1;for(let h=0;h<this.vehicles.length;h++)if(this.vehicles[h].police_number===d){s=h;break}return s},openItem(){this.items.length<5?(this.item={},this.itemSubmitted=!1,this.itemDialog=!0):this.$toast.add({severity:"warn",summary:"Perhatian",detail:"Data Kendaraan Maksimal 5",life:3e3})},hideDialogItem(){this.itemDialog=!1,this.itemSubmitted=!1},saveItem(){this.itemSubmitted=!0,this.items[this.findIndexByItemName(this.item.item_name)]?this.items[this.findIndexByItemName(this.item.item_name)]=this.item:this.items.push(this.item),this.itemDialog=!1,this.item={}},editItem(d){this.item={...d},this.itemDialog=!0},confirmDeleteItem(d){this.item=d,this.deleteItemDialog=!0},deleteItem(){this.items=this.items.filter(d=>d.item_name!==this.item.item_name),this.deleteItemDialog=!1,this.item={},this.$toast.add({severity:"success",summary:"Successful",detail:"Item Deleted",life:3e3})},findIndexByItemName(d){let s=-1;for(let h=0;h<this.items.length;h++)if(this.items[h].item_name===d){s=h;break}return s},onAdvancedUpload(){this.$toast.add({severity:"info",summary:"Success",detail:"File Uploaded",life:3e3})}}};const M={class:"grid p-fluid mt-2"},E={class:"col-12"},W={class:"card"},A={class:"card-title"},j=e("h5",{class:"mb-3"}," Form Baru ",-1),H={class:"grid formgrid"},L={class:"col-12 mb-2 lg:col-4 lg:mb-0"},F=e("strong",{class:"text-gray-700"},"No Dokumen",-1),Y={class:"col-12 mb-2 lg:col-4 lg:mb-0"},Z=e("strong",{class:"text-gray-700"},"Jenis Dokumen",-1),O={class:"col-12 mb-2 lg:col-4 lg:mb-0"},G=e("strong",{class:"text-gray-700"},"Tanggal",-1),Q={class:"grid formgrid"},X=e("div",{class:"col-12 mb-2 pt-4"},[e("strong",{class:"text-gray-700"},"Pemohon")],-1),$={class:"col-12 grid"},ee=e("div",{class:"col-4 mb-2 pt-2"},"NIK",-1),te={class:"col-8 mb-2"},ie={class:"col-12 mt-1 grid"},se=e("div",{class:"col-4 mb-2 pt-2"},"Nama",-1),le={class:"col-8 mb-2"},oe={class:"col-12 mt-1 grid"},ne=e("div",{class:"col-4 mb-2 pt-2"},"Perusahaan",-1),ae={class:"col-8 mb-2"},de={class:"col-12 mt-1 grid"},me=e("div",{class:"col-4 mb-2 pt-2 mt-4"},"Departmen",-1),ce={class:"col-8 mb-2 mt-4"},re={class:"col-12 mt-1 grid"},ue=e("div",{class:"col-4 mb-2 pt-2"},"Jabatan",-1),_e={class:"col-8 mb-2"},he={class:"col-12 mt-1 grid"},pe=e("div",{class:"col-4 mb-2 md:pt-2"},"No Handphone",-1),ve={class:"col-8 mb-2"},be={class:"grid formgrid"},fe=e("div",{class:"col-12 mb-2 pt-4"},[e("strong",{class:"text-gray-700 mt-4"},"Kendaraan")],-1),ge={class:"col-12"},ye=e("span",{class:"p-column-title"},"Nomor Polisi",-1),xe={class:"text-gray-700"},ke=e("span",{class:"p-column-title"},"Jenis Kendaraan",-1),De={class:"text-gray-700"},Ve=e("span",{class:"p-column-title"},"Nama Pengemudi",-1),we={class:"text-gray-700"},Ce=e("span",{class:"p-column-title"},"Nama Penumpang",-1),Ne={class:"text-gray-700"},Ie={class:""},Te={style:{width:"100%"}},Ue={border:"1"},Be=e("td",null,"Jenis Kendaraan",-1),Se=e("td",null,"Nama Pengemudi",-1),qe=e("td",null,"Nama Penumpang",-1),ze={class:"mt-2"},Re={class:"grid formgrid"},Pe=e("div",{class:"col-12 mb-2 pt-4"},[e("strong",{class:"text-gray-700 mt-4"},"Barang")],-1),Je={class:"col-12"},Ke=e("span",{class:"p-column-title"},"Nama Barang",-1),Me={class:"text-gray-700"},Ee=e("span",{class:"p-column-title"},"Satuan",-1),We={class:"text-gray-700"},Ae=e("span",{class:"p-column-title"},"Jumlah",-1),je={class:"text-gray-700"},He=e("span",{class:"p-column-title"},"Catatan",-1),Le={class:"text-gray-700"},Fe={class:""},Ye={style:{width:"100%"}},Ze={border:"1"},Oe=e("td",null,"Satuan",-1),Ge=e("td",null,"Jumlah",-1),Qe=e("td",null,"Catatan",-1),Xe={class:"mt-2"},$e={class:"grid formgrid"},et={class:"col-12 pt-4"},tt=e("strong",{class:"text-gray-700"},"Alasan Membawa Barang",-1),it={class:"grid formgrid"},st={class:"col-12 mb-2 pt-4"},lt=e("strong",{class:"text-gray-700"},"Lampiran",-1),ot={class:"field"},nt=e("label",{for:"police_number"},"Nomor Polisi",-1),at={key:0,class:"p-invalid"},dt={class:"field"},mt=e("label",{for:"driver_name"},"Nama Pengemudi",-1),ct={key:0,class:"p-invalid"},rt={class:"field"},ut=e("label",{for:"vehicle_type"},"Jenis Kendaraan",-1),_t={key:0,class:"p-invalid"},ht={class:"field"},pt=e("label",{for:"passenger_name"},"Nama Penumpang",-1),vt={key:0,class:"p-invalid"},bt=e("div",{class:"field"},[e("small",{class:"text-gray-500"},[e("i",null," Catatan : Jika penumpang lebih dari satu orang, silahkan isi nama dan pisahkan dengan tanda koma ")])],-1),ft={class:"field"},gt=e("label",{for:"item_name"},"Nama Barang",-1),yt={key:0,class:"p-invalid"},xt={class:"field"},kt=e("label",{for:"item_unit"},"Satuan",-1),Dt={key:0,class:"p-invalid"},Vt={class:"field"},wt=e("label",{for:"item_count"},"Jumlah",-1),Ct={key:0,class:"p-invalid"},Nt={class:"field"},It=e("label",{for:"item_note"},"Catatan",-1),Tt={key:0,class:"p-invalid"},Ut={class:"flex align-items-center justify-content-center"},Bt=e("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1),St={key:0},qt={class:"flex align-items-center justify-content-center"},zt=e("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1),Rt={key:0};function Pt(d,s,h,Jt,t,u){const D=I,c=T,V=U,w=B,p=S,r=q,x=P,C=k,N=R("DropZone"),f=z;return o(),_("div",M,[e("div",E,[e("div",W,[e("div",A,[j,l(D)]),e("div",H,[e("div",L,[F,l(c,{type:"text",placeholder:"Disabled",disabled:!0})]),e("div",Y,[Z,l(V,{modelValue:t.documentType,"onUpdate:modelValue":s[0]||(s[0]=i=>t.documentType=i),options:t.documentTypes,placeholder:"-Pilih-",class:"w-full"},null,8,["modelValue","options"])]),e("div",O,[G,l(w,{modelValue:t.date,"onUpdate:modelValue":s[1]||(s[1]=i=>t.date=i),showIcon:""},null,8,["modelValue"])])]),e("div",Q,[X,e("div",$,[ee,e("div",te,[l(c,{type:"text",placeholder:"",class:"p-inputtext-sm"})])]),e("div",ie,[se,e("div",le,[l(c,{type:"text",placeholder:"",class:"p-inputtext-sm"})])]),e("div",oe,[ne,e("div",ae,[l(c,{type:"text",placeholder:"",class:"p-inputtext-sm"})])]),e("div",de,[me,e("div",ce,[l(c,{type:"text",placeholder:"",class:"p-inputtext-sm"})])]),e("div",re,[ue,e("div",_e,[l(c,{type:"text",placeholder:"",class:"p-inputtext-sm"})])]),e("div",he,[pe,e("div",ve,[l(c,{type:"text",placeholder:"",class:"p-inputtext-sm"})])])]),e("div",be,[fe,e("div",ge,[t.vehicles.length?(o(),v(x,{key:0,ref:"dt",expandedRows:t.expandedRows,"onUpdate:expandedRows":s[2]||(s[2]=i=>t.expandedRows=i),value:t.vehicles,"data-key":"police_number","responsive-layout":"scroll"},{expansion:n(i=>[e("div",Ie,[e("table",Te,[e("tr",Ue,[Be,e("td",null,": "+m(i.data.vehicle_type),1)]),e("tr",null,[Se,e("td",null,": "+m(i.data.driver_name),1)]),e("tr",null,[qe,e("td",null,": "+m(i.data.passenger_name),1)])])]),e("div",ze,[l(r,{label:"Edit",icon:"pi pi-pencil",severity:"secondary",outlined:"",size:"small",style:{width:"30%"},onClick:y=>u.editVehicle(i.data)},null,8,["onClick"]),l(r,{label:"Hapus",icon:"pi pi-trash",severity:"secondary",outlined:"",size:"small",style:{width:"30%"},class:"ml-2",onClick:y=>u.confirmDeleteVehicle(i.data)},null,8,["onClick"])])]),default:n(()=>[t.showTable?a("",!0):(o(),v(p,{key:0,class:"py-1",expander:"",style:{width:"10px"}})),l(p,{class:"py-1",field:"police_number",header:"Nomor Polisi"},{body:n(i=>[ye,e("strong",xe,m(i.data.police_number),1)]),_:1}),t.showTable?(o(),v(p,{key:1,class:"py-1",field:"vehicle_type",header:"Jenis Kendaraan"},{body:n(i=>[ke,e("span",De,m(i.data.vehicle_type),1)]),_:1})):a("",!0),t.showTable?(o(),v(p,{key:2,class:"py-1",field:"driver_name",header:"Nama Pengemudi"},{body:n(i=>[Ve,e("span",we,m(i.data.driver_name),1)]),_:1})):a("",!0),t.showTable?(o(),v(p,{key:3,class:"py-1",field:"passenger_name",header:"Nama Penumpang"},{body:n(i=>[Ce,e("span",Ne,m(i.data.passenger_name),1)]),_:1})):a("",!0)]),_:1},8,["expandedRows","value"])):a("",!0),l(r,{label:"Tambah Kendaraan",icon:"pi pi-plus",severity:"secondary",outlined:"",size:"small",onClick:u.openVehicle},null,8,["onClick"])])]),e("div",Re,[Pe,e("div",Je,[t.items.length?(o(),v(x,{key:0,ref:"dt",expandedRows:t.itemExpandedRows,"onUpdate:expandedRows":s[3]||(s[3]=i=>t.itemExpandedRows=i),value:t.items,"data-key":"item_name","responsive-layout":"scroll"},{expansion:n(i=>[e("div",Fe,[e("table",Ye,[e("tr",Ze,[Oe,e("td",null,": "+m(i.data.item_unit??"-"),1)]),e("tr",null,[Ge,e("td",null,": "+m(i.data.item_count??"-"),1)]),e("tr",null,[Qe,e("td",null,": "+m(i.data.item_note??"-"),1)])])]),e("div",Xe,[l(r,{label:"Edit",icon:"pi pi-pencil",severity:"secondary",outlined:"",size:"small",style:{width:"30%"},onClick:y=>u.editItem(i.data)},null,8,["onClick"]),l(r,{label:"Hapus",icon:"pi pi-trash",severity:"secondary",outlined:"",size:"small",style:{width:"30%"},class:"ml-2",onClick:y=>u.confirmDeleteItem(i.data)},null,8,["onClick"])])]),default:n(()=>[t.showTable?a("",!0):(o(),v(p,{key:0,class:"py-1",expander:"",style:{width:"10px"}})),l(p,{class:"py-1",field:"item_name",header:"Nama Barang"},{body:n(i=>[Ke,e("strong",Me,m(i.data.item_name),1)]),_:1}),t.showTable?(o(),v(p,{key:1,class:"py-1",field:"item_unit",header:"Satuan"},{body:n(i=>[Ee,e("span",We,m(i.data.item_unit),1)]),_:1})):a("",!0),t.showTable?(o(),v(p,{key:2,class:"py-1",field:"item_count",header:"Jumlah"},{body:n(i=>[Ae,e("span",je,m(i.data.item_count),1)]),_:1})):a("",!0),t.showTable?(o(),v(p,{key:3,class:"py-1",field:"item_note",header:"Catatan"},{body:n(i=>[He,e("span",Le,m(i.data.item_note),1)]),_:1})):a("",!0)]),_:1},8,["expandedRows","value"])):a("",!0),l(r,{label:"Tambah Barang",icon:"pi pi-plus",severity:"secondary",outlined:"",size:"small",onClick:u.openItem},null,8,["onClick"])])]),e("div",$e,[e("div",et,[tt,l(C,{type:"text",placeholder:"",rows:"3"})])]),e("div",it,[e("div",st,[lt,l(N,{url:"",uploadOnDrop:!0,multipleUpload:!0,parallelUpload:3})])])])]),l(f,{visible:t.vehicleDialog,"onUpdate:visible":s[8]||(s[8]=i=>t.vehicleDialog=i),header:"Detail Kendaraan",modal:!0,class:"p-fluid mx-3"},{footer:n(()=>[l(r,{label:"Cancel",icon:"pi pi-times",class:"p-button-text my-2",onClick:u.hideDialog},null,8,["onClick"]),l(r,{label:"Save",icon:"pi pi-check",class:"p-button-text my-2",onClick:u.saveVehicle},null,8,["onClick"])]),default:n(()=>[e("div",ot,[nt,l(c,{id:"police_number",modelValue:t.vehicle.police_number,"onUpdate:modelValue":s[4]||(s[4]=i=>t.vehicle.police_number=i),modelModifiers:{trim:!0},required:"true",autofocus:"",class:b({"p-invalid":t.submitted&&!t.vehicle.police_number})},null,8,["modelValue","class"]),t.submitted&&!t.vehicle.police_number?(o(),_("small",at,"Nomor Polisi is required.")):a("",!0)]),e("div",dt,[mt,l(c,{id:"driver_name",modelValue:t.vehicle.driver_name,"onUpdate:modelValue":s[5]||(s[5]=i=>t.vehicle.driver_name=i),modelModifiers:{trim:!0},required:"true",autofocus:"",class:b({"p-invalid":t.submitted&&!t.vehicle.driver_name})},null,8,["modelValue","class"]),t.submitted&&!t.vehicle.driver_name?(o(),_("small",ct,"Nama Pengemudi is required.")):a("",!0)]),e("div",rt,[ut,l(c,{id:"vehicle_type",modelValue:t.vehicle.vehicle_type,"onUpdate:modelValue":s[6]||(s[6]=i=>t.vehicle.vehicle_type=i),modelModifiers:{trim:!0},required:"true",autofocus:"",class:b({"p-invalid":t.submitted&&!t.vehicle.vehicle_type})},null,8,["modelValue","class"]),t.submitted&&!t.vehicle.vehicle_type?(o(),_("small",_t,"Jenis Kendaraan is required.")):a("",!0)]),e("div",ht,[pt,l(c,{id:"passenger_name",modelValue:t.vehicle.passenger_name,"onUpdate:modelValue":s[7]||(s[7]=i=>t.vehicle.passenger_name=i),modelModifiers:{trim:!0},required:"true",autofocus:"",class:b({"p-invalid":t.submitted&&!t.vehicle.passenger_name})},null,8,["modelValue","class"]),t.submitted&&!t.vehicle.passenger_name?(o(),_("small",vt,"Nama Penumpang is required.")):a("",!0)]),bt]),_:1},8,["visible"]),l(f,{visible:t.itemDialog,"onUpdate:visible":s[13]||(s[13]=i=>t.itemDialog=i),header:"Detail Barang",modal:!0,class:"p-fluid mx-3"},{footer:n(()=>[l(r,{label:"Cancel",icon:"pi pi-times",class:"p-button-text my-2",onClick:u.hideDialogItem},null,8,["onClick"]),l(r,{label:"Save",icon:"pi pi-check",class:"p-button-text my-2",onClick:u.saveItem},null,8,["onClick"])]),default:n(()=>[e("div",ft,[gt,l(c,{id:"item_name",modelValue:t.item.item_name,"onUpdate:modelValue":s[9]||(s[9]=i=>t.item.item_name=i),modelModifiers:{trim:!0},required:"true",autofocus:"",class:b({"p-invalid":t.itemSubmitted&&!t.item.item_name})},null,8,["modelValue","class"]),t.itemSubmitted&&!t.item.item_name?(o(),_("small",yt,"Nama Barang is required.")):a("",!0)]),e("div",xt,[kt,l(c,{id:"item_unit",modelValue:t.item.item_unit,"onUpdate:modelValue":s[10]||(s[10]=i=>t.item.item_unit=i),modelModifiers:{trim:!0},required:"true",autofocus:"",class:b({"p-invalid":t.itemSubmitted&&!t.item.item_unit})},null,8,["modelValue","class"]),t.itemSubmitted&&!t.item.item_unit?(o(),_("small",Dt,"Satuan is required.")):a("",!0)]),e("div",Vt,[wt,l(c,{id:"item_count",modelValue:t.item.item_count,"onUpdate:modelValue":s[11]||(s[11]=i=>t.item.item_count=i),modelModifiers:{trim:!0},required:"true",autofocus:"",class:b({"p-invalid":t.itemSubmitted&&!t.item.item_count})},null,8,["modelValue","class"]),t.itemSubmitted&&!t.item.item_count?(o(),_("small",Ct,"Jumlah is required.")):a("",!0)]),e("div",Nt,[It,l(c,{id:"item_note",modelValue:t.item.item_note,"onUpdate:modelValue":s[12]||(s[12]=i=>t.item.item_note=i),modelModifiers:{trim:!0},required:"true",autofocus:"",class:b({"p-invalid":t.itemSubmitted&&!t.item.item_note})},null,8,["modelValue","class"]),t.itemSubmitted&&!t.item.item_note?(o(),_("small",Tt,"Catatan is required.")):a("",!0)])]),_:1},8,["visible"]),l(f,{visible:t.deleteVehicleDialog,"onUpdate:visible":s[15]||(s[15]=i=>t.deleteVehicleDialog=i),class:"mx-3",header:"Confirm",modal:!0},{footer:n(()=>[l(r,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:s[14]||(s[14]=i=>t.deleteVehicleDialog=!1)}),l(r,{label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:u.deleteVehicle},null,8,["onClick"])]),default:n(()=>[e("div",Ut,[Bt,t.vehicle?(o(),_("span",St,[g("Are you sure you want to delete "),e("b",null,m(t.vehicle.police_number),1),g("?")])):a("",!0)])]),_:1},8,["visible"]),l(f,{visible:t.deleteItemDialog,"onUpdate:visible":s[17]||(s[17]=i=>t.deleteItemDialog=i),class:"mx-3",header:"Confirm",modal:!0},{footer:n(()=>[l(r,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:s[16]||(s[16]=i=>t.deleteItemDialog=!1)}),l(r,{label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:u.deleteItem},null,8,["onClick"])]),default:n(()=>[e("div",qt,[zt,t.item?(o(),_("span",Rt,[g("Are you sure you want to delete "),e("b",null,m(t.item.item_name),1),g("?")])):a("",!0)])]),_:1},8,["visible"])])}const mi=J(K,[["render",Pt]]);export{mi as default};
