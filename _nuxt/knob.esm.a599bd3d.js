import{o as l,b as o,j as r,t as h,k as u,B as m}from"./entry.b43c92c6.js";import"./entry.4b682d46.js";var f={name:"Knob",emits:["update:modelValue","change"],props:{modelValue:{type:Number,default:null},size:{type:Number,default:100},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},step:{type:Number,default:1},min:{type:Number,default:0},max:{type:Number,default:100},valueColor:{type:String,default:"var(--primary-color, Black)"},rangeColor:{type:String,default:"var(--surface-border, LightGray)"},textColor:{type:String,default:"var(--text-color-secondary, Black)"},strokeWidth:{type:Number,default:14},showValue:{type:Boolean,default:!0},valueTemplate:{type:String,default:"{value}"},tabindex:{type:Number,default:0},"aria-labelledby":{type:String,default:null},"aria-label":{type:String,default:null}},data(){return{radius:40,midX:50,midY:50,minRadians:4*Math.PI/3,maxRadians:-Math.PI/3}},methods:{updateValue(e,a){let t=e-this.size/2,s=this.size/2-a,n=Math.atan2(s,t),i=-Math.PI/2-Math.PI/6;this.updateModel(n,i)},updateModel(e,a){let t;if(e>this.maxRadians)t=this.mapRange(e,this.minRadians,this.maxRadians,this.min,this.max);else if(e<a)t=this.mapRange(e+2*Math.PI,this.minRadians,this.maxRadians,this.min,this.max);else return;let s=Math.round((t-this.min)/this.step)*this.step+this.min;this.$emit("update:modelValue",s),this.$emit("change",s)},updateModelValue(e){e>this.max?this.$emit("update:modelValue",this.max):e<this.min?this.$emit("update:modelValue",this.min):this.$emit("update:modelValue",e)},mapRange(e,a,t,s,n){return(e-a)*(n-s)/(t-a)+s},onClick(e){!this.disabled&&!this.readonly&&this.updateValue(e.offsetX,e.offsetY)},onMouseDown(e){!this.disabled&&!this.readonly&&(window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("mouseup",this.onMouseUp),e.preventDefault())},onMouseUp(e){!this.disabled&&!this.readonly&&(window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp),e.preventDefault())},onTouchStart(e){!this.disabled&&!this.readonly&&(window.addEventListener("touchmove",this.onTouchMove),window.addEventListener("touchend",this.onTouchEnd),e.preventDefault())},onTouchEnd(e){!this.disabled&&!this.readonly&&(window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd),e.preventDefault())},onMouseMove(e){!this.disabled&&!this.readonly&&(this.updateValue(e.offsetX,e.offsetY),e.preventDefault())},onTouchMove(e){if(!this.disabled&&!this.readonly&&e.touches.length==1){const a=this.$el.getBoundingClientRect(),t=e.targetTouches.item(0),s=t.clientX-a.left,n=t.clientY-a.top;this.updateValue(s,n)}},onKeyDown(e){if(!this.disabled&&!this.readonly)switch(e.code){case"ArrowRight":case"ArrowUp":{e.preventDefault(),this.updateModelValue(this.modelValue+1);break}case"ArrowLeft":case"ArrowDown":{e.preventDefault(),this.updateModelValue(this.modelValue-1);break}case"Home":{e.preventDefault(),this.$emit("update:modelValue",this.min);break}case"End":{e.preventDefault(),this.$emit("update:modelValue",this.max);break}case"PageUp":{e.preventDefault(),this.updateModelValue(this.modelValue+10);break}case"PageDown":{e.preventDefault(),this.updateModelValue(this.modelValue-10);break}}}},computed:{containerClass(){return["p-knob p-component",{"p-disabled":this.disabled}]},rangePath(){return`M ${this.minX} ${this.minY} A ${this.radius} ${this.radius} 0 1 1 ${this.maxX} ${this.maxY}`},valuePath(){return`M ${this.zeroX} ${this.zeroY} A ${this.radius} ${this.radius} 0 ${this.largeArc} ${this.sweep} ${this.valueX} ${this.valueY}`},zeroRadians(){return this.min>0&&this.max>0?this.mapRange(this.min,this.min,this.max,this.minRadians,this.maxRadians):this.mapRange(0,this.min,this.max,this.minRadians,this.maxRadians)},valueRadians(){return this.mapRange(this.modelValue,this.min,this.max,this.minRadians,this.maxRadians)},minX(){return this.midX+Math.cos(this.minRadians)*this.radius},minY(){return this.midY-Math.sin(this.minRadians)*this.radius},maxX(){return this.midX+Math.cos(this.maxRadians)*this.radius},maxY(){return this.midY-Math.sin(this.maxRadians)*this.radius},zeroX(){return this.midX+Math.cos(this.zeroRadians)*this.radius},zeroY(){return this.midY-Math.sin(this.zeroRadians)*this.radius},valueX(){return this.midX+Math.cos(this.valueRadians)*this.radius},valueY(){return this.midY-Math.sin(this.valueRadians)*this.radius},largeArc(){return Math.abs(this.zeroRadians-this.valueRadians)<Math.PI?0:1},sweep(){return this.valueRadians>this.zeroRadians?0:1},valueToDisplay(){return this.valueTemplate.replace(/{value}/g,this.modelValue)}}};const c=["width","height","tabindex","aria-valuemin","aria-valuemax","aria-valuenow","aria-labelledby","aria-label"],p=["d","stroke-width","stroke"],v=["d","stroke-width","stroke"],b=["fill"];function y(e,a,t,s,n,i){return l(),o("div",{class:m(i.containerClass)},[(l(),o("svg",{viewBox:"0 0 100 100",role:"slider",width:t.size,height:t.size,tabindex:t.readonly||t.disabled?-1:t.tabindex,"aria-valuemin":t.min,"aria-valuemax":t.max,"aria-valuenow":t.modelValue,"aria-labelledby":e.ariaLabelledby,"aria-label":e.ariaLabel,onClick:a[0]||(a[0]=(...d)=>i.onClick&&i.onClick(...d)),onKeydown:a[1]||(a[1]=(...d)=>i.onKeyDown&&i.onKeyDown(...d)),onMousedown:a[2]||(a[2]=(...d)=>i.onMouseDown&&i.onMouseDown(...d)),onMouseup:a[3]||(a[3]=(...d)=>i.onMouseUp&&i.onMouseUp(...d)),onTouchstart:a[4]||(a[4]=(...d)=>i.onTouchStart&&i.onTouchStart(...d)),onTouchend:a[5]||(a[5]=(...d)=>i.onTouchEnd&&i.onTouchEnd(...d))},[r("path",{d:i.rangePath,"stroke-width":t.strokeWidth,stroke:t.rangeColor,class:"p-knob-range"},null,8,p),r("path",{d:i.valuePath,"stroke-width":t.strokeWidth,stroke:t.valueColor,class:"p-knob-value"},null,8,v),t.showValue?(l(),o("text",{key:0,x:50,y:57,"text-anchor":"middle",fill:t.textColor,class:"p-knob-text"},h(i.valueToDisplay),9,b)):u("",!0)],40,c))],2)}function w(e,a){a===void 0&&(a={});var t=a.insertAt;if(!(!e||typeof document>"u")){var s=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&s.firstChild?s.insertBefore(n,s.firstChild):s.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}}var x=`
@keyframes dash-frame {
100% {
        stroke-dashoffset: 0;
}
}
.p-knob-range {
    fill: none;
    transition: stroke 0.1s ease-in;
}
.p-knob-value {
    animation-name: dash-frame;
    animation-fill-mode: forwards;
    fill: none;
}
.p-knob-text {
    font-size: 1.3rem;
    text-align: center;
}
`;w(x);f.render=y;export{f as default};
