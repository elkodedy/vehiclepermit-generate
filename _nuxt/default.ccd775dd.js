import{_ as y}from"./nuxt-link.daa3e325.js";import{ah as M,A as C,o as l,b as a,j as s,e as d,w as k,l as $,z as A,i as T,B as h,t as v,k as _,g as w,f as b,F as I,ar as S,ao as x,n as D,T as R}from"./entry.b43c92c6.js";import{_ as f}from"./_plugin-vue_export-helper.c27b6911.js";import"./entry.4b682d46.js";const N={emits:["topbar-menu-toggle","menu-toggle"],data(){return{initial:null,color:null,visibleRight:!1,manualBook:!1,apps:[],columns:[{field:"data.ticket.ticket_number",header:"Ticket No",width:"3rem"},{field:"data.ticket.date_created",header:"Date",width:"8rem"},{field:"data.subject",header:"Subject",width:"15rem"}]}},scrollListener:null,container:null,computed:{darkTheme(){return this.$appState.darkTheme}},mounted(){},methods:{toggle(e){this.$refs.op.toggle(e)},bindScrollListener(){this.scrollListener||this.container&&(this.scrollListener=()=>{window.scrollY>0?this.container.classList.add("layout-topbar-sticky"):this.container.classList.remove("layout-topbar-sticky")}),window.addEventListener("scroll",this.scrollListener)},unbindScrollListener(){this.scrollListener&&(window.removeEventListener("scroll",this.scrollListener),this.scrollListener=null)},bindOutsideClickListener(){this.outsideClickListener||(this.outsideClickListener=e=>{this.isOutsideTopbarMenuClicked(e)&&this.unbindOutsideClickListener()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},isOutsideTopbarMenuClicked(e){return!(this.$refs.topbarMenu.isSameNode(e.target)||this.$refs.topbarMenu.contains(e.target))},containerRef(e){this.container=e},toggle(e){this.$refs.menu.toggle(e)},onMenuToggle(e){this.$emit("menu-toggle",e)},onTopbarMenuToggle(e){this.$emit("topbar-menu-toggle",e)},topbarImage(){const e=M().public.baseUrl;return this.$appState.darkTheme,e+"images/logo-imip.svg"}}};const B=s("i",{class:"pi pi-bars"},null,-1),E=[B],O=["src"],U={class:"p-link layout-topbar-menu-button layout-topbar-button"},j=s("i",{class:"pi pi-ellipsis-v"},null,-1),F=[j],V={class:"layout-topbar-menu hidden lg:flex origin-top"},W=s("i",{class:"pi pi-sign-out mr-2"},null,-1),P=s("span",null,"Logout",-1),z=[W,P];function H(e,t,n,u,r,i){const c=y,p=C("styleclass");return l(),a("div",{ref:i.containerRef,class:"layout-topbar"},[s("button",{class:"p-link layout-menu-button layout-topbar-button",onClick:t[0]||(t[0]=(...m)=>i.onMenuToggle&&i.onMenuToggle(...m))},E),d(c,{to:"/",class:"layout-topbar-logo"},{default:k(()=>[s("img",{alt:"Logo",src:i.topbarImage()},null,8,O)]),_:1}),$((l(),a("button",U,F)),[[p,{selector:"@next",enterClass:"hidden",enterActiveClass:"scalein",leaveToClass:"hidden",leaveActiveClass:"fadeout",hideOnOutsideClick:!0}]]),s("ul",V,[s("li",null,[s("button",{class:"p-link layout-topbar-button md:mr-3",onClick:t[1]||(t[1]=m=>e.$router.push("/"))},z)])])],512)}const Y=f(N,[["render",H]]),G={props:{root:{type:Boolean,default:!0},menu:{type:Object,default:null}},emits:["menuitem-click"],mounted(){},methods:{onMenuItemClick(e,t,n){this.$emit("menuitem-click",{originalEvent:e,item:t})},isActiveRootmenuItem(e){return e.items&&!e.items.some(t=>t.to===`/${this.$router.currentRoute.value.name}`||t.items&&t.items.some(n=>n.to===`/${this.$router.currentRoute.value.name}`))}}},q={key:0,type:"button",class:"p-link"},J={class:"menu-icon"},K=s("i",{class:"menu-toggle-icon pi pi-angle-down"},null,-1),Q={key:0,class:"menu-icon"},X={key:2,class:"menu-child-category"};function Z(e,t,n,u,r,i){const c=y,p=A("AppMenuItem",!0),m=C("styleclass");return l(!0),a(I,null,T(n.menu,(o,L)=>(l(),a("li",{key:L},[o.items&&n.root?$((l(),a("button",q,[s("div",J,[s("i",{class:h(o.icon)},null,2)]),s("span",null,v(o.label),1),K])),[[m,{selector:"@next",enterClass:"hidden",enterActiveClass:"slidedown",leaveToClass:"hidden",leaveActiveClass:"slideup"}]]):_("",!0),o.to?(l(),w(c,{key:1,to:o.to,class:h({"router-link-active":o.to===e.$route.fullPath}),onClick:g=>i.onMenuItemClick(g,o,e.i)},{default:k(()=>[o.icon&&n.root?(l(),a("div",Q,[s("i",{class:h(o.icon)},null,2)])):_("",!0),b(" "+v(o.label),1)]),_:2},1032,["to","class","onClick"])):_("",!0),!n.root&&o.items?(l(),a("span",X,v(o.label),1)):_("",!0),s("div",{class:h(["overflow-y-hidden transition-all transition-duration-400 transition-ease-in-out",{hidden:o.items&&n.root&&i.isActiveRootmenuItem(o)}])},[s("ol",null,[d(p,{root:!1,menu:o.items,onMenuitemClick:g=>i.onMenuItemClick(g,o.items,e.i)},null,8,["menu","onMenuitemClick"])])],2)]))),128)}const ee=f(G,[["render",Z]]),te={props:{model:{type:Array,default:()=>[]}},emits:["menuitem-click"],computed:{darkTheme(){return this.$appState.darkTheme}},methods:{onMenuItemClick(e){this.$emit("menuitem-click",e)},bannerImage(){return this.$appState.darkTheme?"/images/banner-primeblocks-dark.png":"/images/banner-primeblocks.png"}}},se={class:"layout-menu"};function ie(e,t,n,u,r,i){const c=ee;return l(),a("nav",null,[s("ol",se,[d(c,{menu:n.model,onMenuitemClick:i.onMenuItemClick},null,8,["menu","onMenuitemClick"])])])}const oe=f(te,[["render",ie]]),ne={name:"AppFooter",computed:{darkTheme(){return this.$appState.darkTheme}},methods:{footerImage(){const e=M().public.baseUrl;return this.$appState.darkTheme,e+"images/logo-imip.svg"}}},le={class:"layout-footer"},ae={class:"font-medium ml-2"},re=s("strong",null," IMIP ERP ",-1);function ue(e,t,n,u,r,i){return l(),a("div",le,[s("span",ae,[b(" Copyright © "+v(new Date().getFullYear())+" — ",1),re,b(" - "),s("strong",null,v(e.$config.public.appName),1)])])}const ce=f(ne,[["render",ue]]),de={data(){return{layoutMode:"static",staticMenuInactive:!1,overlayMenuActive:!1,mobileMenuActive:!1,showBreadcrumb:!1,listApps:[],menu:[],home:{to:"/",label:"Home"}}},computed:{containerClass(){return["layout-wrapper",{"layout-overlay":this.layoutMode==="overlay","layout-static":this.layoutMode==="static","layout-static-sidebar-inactive":this.staticMenuInactive&&this.layoutMode==="static","layout-overlay-sidebar-active":this.overlayMenuActive&&this.layoutMode==="overlay","layout-mobile-sidebar-active":this.mobileMenuActive,"p-input-filled":this.$primevue.config.inputStyle==="filled","p-ripple-disabled":this.$primevue.config.ripple===!1,"layout-theme-light":this.$appState.theme.startsWith("saga")}]},crumbs(){const t=S().path.split("/");return t.shift(),t.reduce((u,r,i)=>(u.push({to:u[i-1]?u[i-1].to+"/"+r:"/"+r,label:r.toString().replace("-"," ")}),u),[])},logo(){return this.$appState.darkTheme?"/images/logo-white.svg":"/images/logo.svg"}},watch:{$route(){this.menuActive=!1,this.$toast.removeAllGroups()}},beforeUpdate(){this.mobileMenuActive?this.addClass(document.body,"body-overflow-hidden"):this.removeClass(document.body,"body-overflow-hidden")},mounted(){this.getMenu()},methods:{logout(){x().logout(),window.location.href=portalUrl+"/logout?service="+{}.baseUrl},getMenu(){this.menu=[{label:"Home",icon:"pi pi-fw pi-home",items:[{label:"Dashboard",to:"/apps/permits"}]}]},onWrapperClick(){this.menuClick||(this.overlayMenuActive=!1,this.mobileMenuActive=!1),this.menuClick=!1},onMenuToggle(){this.menuClick=!0,this.isDesktop()?this.layoutMode==="overlay"?(this.mobileMenuActive===!0&&(this.overlayMenuActive=!0),this.overlayMenuActive=!this.overlayMenuActive,this.mobileMenuActive=!1):this.layoutMode==="static"&&(this.staticMenuInactive=!this.staticMenuInactive):this.mobileMenuActive=!this.mobileMenuActive,event.preventDefault()},onSidebarClick(){this.menuClick=!0},onMenuItemClick(e){e.item&&!e.item.items&&(this.overlayMenuActive=!1,this.mobileMenuActive=!1)},onLayoutChange(e){this.layoutMode=e},addClass(e,t){e.classList?e.classList.add(t):e.className+=` ${t}`},removeClass(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp(`(^|\\b)${t.split(" ").join("|")}(\\b|$)`,"gi")," ")},isDesktop(){return window.innerWidth>=1901},isSidebarVisible(){if(this.isDesktop()){if(this.layoutMode==="static")return!this.staticMenuInactive;if(this.layoutMode==="overlay")return this.overlayMenuActive}return!0}}};const me={class:"layout-main-container"},pe={class:"layout-main"},he={key:0,class:"layout-mask p-component-overlay"};function _e(e,t,n,u,r,i){const c=Y,p=oe,m=ce;return l(),a("div",{class:h(i.containerClass),onClick:t[1]||(t[1]=(...o)=>i.onWrapperClick&&i.onWrapperClick(...o))},[d(c,{onMenuToggle:i.onMenuToggle},null,8,["onMenuToggle"]),s("div",{class:"layout-sidebar",onClick:t[0]||(t[0]=(...o)=>i.onSidebarClick&&i.onSidebarClick(...o))},[d(p,{model:r.menu,onMenuitemClick:i.onMenuItemClick},null,8,["model","onMenuitemClick"])]),s("div",me,[s("div",pe,[D(e.$slots,"default")]),d(m)]),d(R,{name:"layout-mask"},{default:k(()=>[r.mobileMenuActive?(l(),a("div",he)):_("",!0)]),_:1})],2)}const ke=f(de,[["render",_e]]);export{ke as default};
